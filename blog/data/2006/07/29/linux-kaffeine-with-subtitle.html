<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Jayli" />
    <title>完全Linux ---- 让kaffeine显示中文字幕</title>
    <link href="http://jayli.github.com/blog/atom.xml" rel="alternate" title="setImpl" type="application/atom+xml" />
    <link rel="stylesheet" href="http://jayli.github.com/blog/media/css/style.css">
    <link rel="stylesheet" href="http://jayli.github.com/blog/media/css/github.css">
    <script type="text/javascript" src="http://jayli.github.com/blog/media/js/highlight.pack.js"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
	<!--[if lte IE 8]>
	<script src="http://a.tbcdn.cn/apps/lottery/00023/index-v3/js/html5.js"></script>
	<![endif]-->
  </head>
  <body>
    <div id="container">
      <div id="main" role="main">
        <header>
        <h1>完全Linux ---- 让kaffeine显示中文字幕</h1>
        </header>
        <nav>
        <span><a title="home page" class="" href="/blog/index.html">home</a></span>
        <span><a title="tags" class="" href="/blog/tags.html">tags</a></span>
        <span><a title="about" class="" href="/blog/about.html">about me</a></span>
        <span><a title="flickr" class="" href="http://www.flickr.com/photos/lijing00333">flickr</a></span>
        <span><a title="weibo" class="" href="http://weibo.com/jayli">weibo</a></span>
        <span><a title="github" class="" href="http://github.com/jayli">github</a></span>
        <span><a title="slideshare" class="" href="http://www.slideshare.net/lijing00333/">slideshare</a></span>
        <span><a title="flickr" class="" href="http://hi.baidu.com/lijing00333/blog/">baidu hi</a></span>
        <span><a title="blogroll" class="" href="/blog/links.html">links</a></span>
        <span><a title="projects" class="" href="/blog/projects.html">projects</a></span>
        <span><a title="subscribe me" class="" href="/blog/atom.xml">feed</a></span>
        </nav>
        <article class="content">
        <section class="post">
<p>Ubuntu 6.06已经的Kaffeine已经支持字幕的显示了，但是其默认安装还不能显示中文字幕。</p>

<p>Kaffeine作为Xine的前端，采用Xine引擎，当然字幕的显示也是以来Xine库了。Xine的字幕显示需要自己定义的一些特殊格式的字体，而其默认安装只带了几种英文字体，这就是Kaffine之所以无法显示中文字幕的原因，知道了原因，解决起来就很容易了。</p>

<p>首先我们需要准备的是制作字体的工具，叫做xine-fontconv。源里的xine是没有这个工具的，有兴趣的话大家可以去SourceForge上下xine的源码，自己编译一下就可以了，比较懒的话......这里有一个编译好的版本，下来放到/usr/bin下面，其实放哪里无所谓，执行的时候找的到就行然后要找一个中文字体，不用多说了吧，/usr/share/fonts/truetype下找一个顺眼的中文自己就行了，注意一下编码是gbk &amp; gb2312的还是big5的，这里以文鼎PL细上海宋Uni（AR PL ShanHeiSun Uni）为例，字体文件为/usr/share/fonts/truetype/arphic/uming.ttf</p>

<p><del>下载： xine-fontconv.bin</del></p>

<p>进入xine的字体目录：</p>

<pre><code>cd /usr/share/xine/libxine1/fonts
</code></pre>

<p>制作字体，ming是最终生成的字体名，自选，gbk是编码，以实际情况为准：</p>

<pre><code>xine-fontconv /usr/share/fonts/truetype/arphic/uming.ttf ming gbk
</code></pre>

<p>等吧，很久的，去喝杯咖菲（晕，新换的雅黑字体居然没有咖fei的fei字，只好拿这个代替了%<sup>#$*&amp;$<sup>&amp;@$%#$@<sup>#@）好了，呵呵</sup></sup></sup></p>

<p>之后我们会看到生成了ming-16-xinefont.gz这样的文件，就是新的字体了，16代表大小，一共会有16，20，24，32，48，64这几个，然后打开Kaffeine配置一下Xine：</p>

<p>设置－>Xine引擎参数－>Subtitles，在右边的新手选项中把最后一项（encoding of the subtitles）替换为我们的编码，这里是gbk，专家选项中的第一项（font for subtitles）替换为我们的字体名，这里为ming，确定。</p>

<p>现在可以找个电影试一下啦，把字幕文件名的.idx，.sub，.srt等等之前的部分改成和电影文件名一样就行了，在载入的时候会提示你选字幕的</p>

<p>enjoy :)</p>

</section>
<section class="meta">

<span class="tags">
  tagged by 
  
  <a href="/tags.html#linux" title="linux">linux</a>&nbsp;
  
  <a href="/tags.html#kaffeine" title="kaffeine">kaffeine</a>&nbsp;
  
</span>

<span class="time">
  <time datetime="2006-07-29">2006-07-29</time>
</span>
</section>

<section class="comment">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jayliblog'; // required: replace example with your forum shortname
	var disqus_identifier = 'urn:uuid:c6675166-6afd-4741-8ccd-d40517ff5231';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


        </article>
      </div>
    </div> <!--! end of #container -->
  </body>
</html>
