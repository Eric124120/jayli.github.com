<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
	<meta http-equiv="pragma" content="no-cache" />
    <meta name="author" content="Jayli" />
	<meta name="keywords" content="淘宝UED 前端工程师 拔赤" />	
	<meta name="description" content="淘宝前端工程师拔赤，关注尖端前端技术，关注yui" />
	<meta http-equiv="imagetoolbar" content="no" />
	<meta name="title" content="拔赤的文章列表" />
    <title>用HTML Component(HTC)对ie做hack</title>
    <link href="http://jayli.github.com/blog/atom.xml" rel="alternate" title="setImpl" type="application/atom+xml" />
    <link rel="stylesheet" href="http://jayli.github.com/blog/media/css/style.css">
    <link rel="stylesheet" href="http://jayli.github.com/blog/media/css/github.css">
	<style>
	</style>
    <script type="text/javascript" src="http://jayli.github.com/blog/media/js/highlight.pack.js"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
	<!--[if lte IE 8]>
	<script src="http://a.tbcdn.cn/apps/lottery/00023/index-v3/js/html5.js"></script>
	<![endif]-->
	<meta name="baidu-tc-verification" content="afb6c9df553ef3493d9ee65263df0d55" />
	<script src="http://siteapp.baidu.com/static/webappservice/uaredirect.js" type="text/javascript"></script><script type="text/javascript">uaredirect("http://m.zoojs.org", "http://jayli.github.com/blog");</script>
  </head>
  <body>
    <div id="container">
      <div id="main" role="main">
        <header>
        <h1>用HTML Component(HTC)对ie做hack</h1>
        </header>
        <nav>
        <span><a title="home page" class="" href="/blog/index.html">home</a></span>
        <span><a title="tags" class="" href="/blog/tags.html">tags</a></span>
        <span><a title="about" class="" href="/blog/about.html">about me</a></span>
        <span><a title="flickr" class="" href="http://www.flickr.com/photos/lijing00333">flickr</a></span>
        <span><a title="blogroll" class="" href="/blog/links.html">links</a></span>
        <span><a title="projects" class="" href="/blog/projects.html">projects</a></span>
        <span><a title="subscribe me" class="" href="/blog/atom.xml">feed</a></span>
        </nav>
        <article class="content">
        <section class="post">
<p>曾经异常强大的htc如今也沦落到只能做hack的地步了，在越来越强调跨浏览器通用性的今天，ie下更多花哨的事件已经淡出我们的视线，不过一些必要的hack却是只能在ie中去做，特别是一些难寻的beforeChange之类的事件只能在ie中找到。</p>

<p>htc 是ie的一个古老技术，如今常用来在css中做hack，特别是针对ie6的hover和ie7的png的bug等等。简单讲就是用js来模拟css的效果，看个例子，ff中任意标签都可以用hover伪类，ie6中则只有a才有hover伪类，因此要给一个div定义一个hover的行为在ie中就会有问题。这时的解决办法就是通过htc用js来解决，而不必担心在ff浏览器中留下后遗症。</p>

<p>在样式中这样定义：</p>

<pre><code>div:hover{background:green;}
div{behavior:url(‘hover.htc’);}
</code></pre>

<p>在hover.htc中的代码：</p>

<pre><code>//by jayli
var hover = function(){
    if(event.srcElement == element){
        element.style.background = ‘green’;
    }
};
var unhover = function(){
    if(event.srcElement == element){
        element.style.background = ”;
    }
};
</code></pre>

<p>这样就做到了在ie6和ff下表现是一致的，例子在这里：</p>

<p>http://www.uedmagazine.com/test/htc/hover.html</p>

<p>文档在这里：</p>

<p>http://www.uedmagazine.com/test/htc/htc.rar</p>

</section>
<section class="meta">

<!--span class="tags">
  tagged by 
  
</span-->

<span class="time">
  posted at <time datetime="2010-03-13">2010-03-13</time>
</span>
</section>

<section class="comment">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jayliblog'; // required: replace example with your forum shortname
	var disqus_identifier = 'urn:uuid:73c8690b-7ac4-4855-95a1-eb8ac38af86a';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


        </article>
      </div>
    </div> <!--! end of #container -->
  </body>
</html>
