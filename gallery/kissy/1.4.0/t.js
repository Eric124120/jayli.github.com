/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event/dom/base/utils",function(f,d){var a="ksEventTargetId_"+f.now(),b=f.Env.host.document;return{simpleAdd:b&&b.addEventListener?function(a,b,d,f){a.addEventListener&&a.addEventListener(b,d,!!f)}:function(a,b,d){a.attachEvent&&a.attachEvent("on"+b,d)},simpleRemove:b&&b.removeEventListener?function(a,b,d,f){a.removeEventListener&&a.removeEventListener(b,d,!!f)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)},data:function(b,f){return d.data(b,a,f)},removeData:function(b){return d.removeData(b,
a)}}},{requires:["dom"]});KISSY.add("event/dom/base/special",function(){return{}});
KISSY.add("event/dom/base/observer",function(f,d,a){function b(a){b.superclass.constructor.apply(this,arguments)}f.extend(b,a.Observer,{keys:"fn,filter,data,context,originalType,groups,last".split(","),notifyInternal:function(a,b){var f,j,p=a.type,l;(l=this.originalType)?a.type=l:l=p;(f=d[l])&&f.handle?(f=f.handle(a,this,b))&&0<f.length&&(j=f[0]):j=this.simpleNotify(a,b);a.type=p;return j}});return b},{requires:["./special","event/base"]});
KISSY.add("event/dom/base/object",function(f,d,a){function b(){return j}function q(){return p}function m(c){var k=c.type;m.superclass.constructor.call(this);this.originalEvent=c;this.isDefaultPrevented=c.defaultPrevented||c.returnValue===p||c.getPreventDefault&&c.getPreventDefault()?b:q;var h=null,g,n,i=l.concat();f.each(o,function(c){return k.match(c.reg)?(i=i.concat(c.props),h=c.fix,!1):a});for(g=i.length;g;)n=i[--g],this[n]=c[n];this.target||(this.target=c.srcElement||t);3===this.target.nodeType&&
(this.target=this.target.parentNode);h&&h(this,c)}var t=f.Env.host.document,j=!0,p=!1,l="altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,shiftKey,target,timeStamp,view,type".split(","),o=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(c,k){null==c.which&&(c.which=null!=k.charCode?k.charCode:k.keyCode);c.metaKey===a&&(c.metaKey=c.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},
{reg:/^mousewheel$/,props:[],fix:function(c,k){var h,g,l,i=k.wheelDelta,b=k.axis,o=k.wheelDeltaY,f=k.wheelDeltaX,d=k.detail;i&&(l=i/120);d&&(l=-(0==d%3?d/3:d));b!==a&&(b===e.HORIZONTAL_AXIS?(g=0,h=-1*l):b===e.VERTICAL_AXIS&&(h=0,g=l));o!==a&&(g=o/120);f!==a&&(h=-1*f/120);!h&&!g&&(g=l);h!==a&&(c.deltaX=h);g!==a&&(c.deltaY=g);l!==a&&(c.delta=l)}},{reg:/^mouse|contextmenu|click|mspointer/i,props:"buttons,clientX,clientY,button,offsetX,relatedTarget,which,fromElement,toElement,offsetY,pageX,pageY,screenX,screenY".split(","),
fix:function(c,l){var h,g,b=c.target,i=l.button;null==c.pageX&&null!=l.clientX&&(h=b.ownerDocument||t,g=h.documentElement,h=h.body,c.pageX=l.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&h.clientLeft||0),c.pageY=l.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&h.clientTop||0));!c.which&&i!==a&&(c.which=i&1?1:i&2?3:i&4?2:0);!c.relatedTarget&&c.fromElement&&(c.relatedTarget=c.fromElement===b?c.toElement:c.fromElement);return c}}];f.extend(m,d.Object,{constructor:m,
preventDefault:function(){var a=this.originalEvent;a.preventDefault?a.preventDefault():a.returnValue=p;m.superclass.preventDefault.call(this)},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=j;m.superclass.stopPropagation.call(this)}});return m},{requires:["event/base"]});
KISSY.add("event/dom/base/observable",function(f,d,a,b,q,m,t){function j(a){f.mix(this,a);this.reset()}var p=t.Utils;f.extend(j,t.Observable,{setup:function(){var l=this.type,o=a[l]||{},c=this.currentTarget,k=b.data(c).handle;(!o.setup||!1===o.setup.call(c,l))&&b.simpleAdd(c,l,k)},constructor:j,reset:function(){j.superclass.reset.call(this);this.lastCount=this.delegateCount=0},notify:function(a){var b=a.target,c=a.type,k=this.currentTarget,h=this.observers,g=[],n,i,f=this.delegateCount||0,s,u;if(f&&
b.nodeType)for(;b!=k;){if(!0!==b.disabled||"click"!==c){var r={},m,j,q;s=[];for(i=0;i<f;i++)u=h[i],q=u.filter,j=q+"",m=r[j],void 0===m&&(m=r[j]=d.test(b,q)),m&&s.push(u);s.length&&g.push({currentTarget:b,currentTargetObservers:s})}b=b.parentNode||k}f<h.length&&g.push({currentTarget:k,currentTargetObservers:h.slice(f)});i=0;for(b=g.length;!a.isPropagationStopped()&&i<b;++i){c=g[i];s=c.currentTargetObservers;c=c.currentTarget;a.currentTarget=c;for(c=0;!a.isImmediatePropagationStopped()&&c<s.length;c++)k=
s[c],k=k.notify(a,this),!1!==n&&(n=k)}return n},fire:function(b,o){var b=b||{},c=""+this.type,k,h,g=a[c]||{};k=!1!==g.bubbles;var n=this.currentTarget;if(!(g.fire&&!1===g.fire.call(n,o))&&(b instanceof m||(h=b,b=new m({currentTarget:n,type:c,target:n}),f.mix(b,h)),!(g.preFire&&!1===g.preFire.call(n,b,o)))){var i=n,v=d.getWindow(i),s=v.document;h=[];g=0;do h.push(i),i=i.parentNode||i.ownerDocument||i===s&&v;while(!o&&i&&k);i=h[g];do b.currentTarget=i,(k=j.getDomEventObservable(i,c))&&k.notify(b),i=
h[++g];while(!o&&i&&!b.isPropagationStopped());if(!o&&!b.isDefaultPrevented()){try{n[c]&&!f.isWindow(n)&&(j.triggeredEvent=c,n[c]())}catch(u){}j.triggeredEvent=""}}},on:function(b){var f=this.observers,c=a[this.type]||{},b=b instanceof q?b:new q(b);-1==this.findObserver(b)&&(b.filter?(f.splice(this.delegateCount,0,b),this.delegateCount++):b.last?(f.push(b),this.lastCount++):f.splice(f.length-this.lastCount,0,b),c.add&&c.add.call(this.currentTarget,b))},detach:function(b){var f,c=a[this.type]||{},
k="filter"in b,h=b.filter,g=b.context,n=b.fn,i=this.currentTarget,d=this.observers,b=b.groups;if(d.length){b&&(f=p.getGroupsRe(b));var s,u,r,m,j=d.length;if(n||k||f){g=g||i;s=b=0;for(u=[];b<j;++b)r=d[b],m=r.context||i,g!=m||n&&n!=r.fn||k&&(h&&h!=r.filter||!h&&!r.filter)||f&&!r.groups.match(f)?u[s++]=r:(r.filter&&this.delegateCount&&this.delegateCount--,r.last&&this.lastCount&&this.lastCount--,c.remove&&c.remove.call(i,r));this.observers=u}else this.reset();this.checkMemory()}},checkMemory:function(){var d=
this.type,m,c,k=a[d]||{},h=this.currentTarget,g=b.data(h);if(g&&(m=g.observables,this.hasObserver()||(c=g.handle,(!k.tearDown||!1===k.tearDown.call(h,d))&&b.simpleRemove(h,d,c),delete m[d]),f.isEmptyObject(m)))g.handle=null,b.removeData(h)}});j.triggeredEvent="";j.getDomEventObservable=function(a,f){var c=b.data(a),k;c&&(k=c.observables);return k?k[f]:null};j.getDomEventObservablesHolder=function(a,f){var c=b.data(a);!c&&f&&b.data(a,c={});return c};return j},{requires:"dom,./special,./utils,./observer,./object,event/base".split(",")});
KISSY.add("event/dom/base/dom-event",function(f,d,a,b,q,m,t){function j(a,b){var c=q[b]||{},f;if(!a.originalType&&(f=c.typeFix))a.originalType=b,b=f;return b}function p(a,b,c){var d,i,v,c=f.merge(c),b=j(c,b);d=m.getDomEventObservablesHolder(a,1);if(!(v=d.handle))v=d.handle=function(a){var b=a.type,c=v.currentTarget;if(!(m.triggeredEvent==b||"undefined"==typeof KISSY))if(b=m.getDomEventObservable(c,b))return a.currentTarget=c,a=new t(a),b.notify(a)},v.currentTarget=a;if(!(i=d.observables))i=d.observables=
{};d=i[b];d||(d=i[b]=new m({type:b,currentTarget:a}),d.setup());d.on(c);a=null}function l(a,b,c){var c=f.merge(c),b=j(c,b),a=m.getDomEventObservablesHolder(a),d=(a||{}).observables;if(a&&d)if(b)(b=d[b])&&b.detach(c);else for(b in d)d[b].detach(c)}var o=d.Utils,c={};f.mix(c,{on:function(a,c,g,d){a=b.query(a);o.batchForType(function(a,b,c,d){for(var c=o.normalizeParam(b,c,d),g,b=c.type,d=a.length-1;0<=d;d--)g=a[d],p(g,b,c)},1,a,c,g,d);return a},detach:function(a,c,d,f){a=b.query(a);o.batchForType(function(a,
b,c,d){for(var c=o.normalizeParam(b,c,d),g,f,b=c.type,d=a.length-1;0<=d;d--)if(g=a[d],l(g,b,c),c.deep&&g.getElementsByTagName){f=g.getElementsByTagName("*");for(g=f.length-1;0<=g;g--)l(f[g],b,c)}},1,a,c,d,f);return a},delegate:function(a,b,d,f,i){return c.on(a,b,{fn:f,context:i,filter:d})},undelegate:function(a,b,d,f,i){return c.detach(a,b,{fn:f,context:i,filter:d})},fire:function(a,c,d,f){var i=void 0,d=d||{};d.synthetic=1;o.splitAndRun(c,function(c){var h,j,l;o.fillGroupsForEvent(c,d);c=d.type;
if((j=q[c])&&j.typeFix)c=j.typeFix;a=b.query(a);for(j=a.length-1;0<=j;j--)h=a[j],l=m.getDomEventObservable(h,c),!f&&!l&&(l=new m({type:c,currentTarget:h})),l&&(h=l.fire(d,f),!1!==i&&(i=h))});return i},fireHandler:function(a,b,d){return c.fire(a,b,d,1)},clone:function(b,c){var d;if(d=m.getDomEventObservablesHolder(b)){var j=a.data(b);j&&j===a.data(c)&&a.removeData(c);f.each(d.observables,function(a,b){f.each(a.observers,function(a){p(c,b,a)})})}}});return c},{requires:"event/base,./utils,dom,./special,./observable,./object".split(",")});
KISSY.add("event/dom/base/key-codes",function(f){var d=f.UA,a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,
Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,
WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(b){if(b.altKey&&!b.ctrlKey||b.metaKey||b.keyCode>=a.F1&&b.keyCode<=a.F12)return!1;switch(b.keyCode){case a.ALT:case a.CAPS_LOCK:case a.CONTEXT_MENU:case a.CTRL:case a.DOWN:case a.END:case a.ESC:case a.HOME:case a.INSERT:case a.LEFT:case a.MAC_FF_META:case a.META:case a.NUMLOCK:case a.NUM_CENTER:case a.PAGE_DOWN:case a.PAGE_UP:case a.PAUSE:case a.PRINT_SCREEN:case a.RIGHT:case a.SHIFT:case a.UP:case a.WIN_KEY:case a.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(b){if(b>=a.ZERO&&b<=a.NINE||b>=a.NUM_ZERO&&b<=a.NUM_MULTIPLY||b>=a.A&&b<=a.Z||d.webkit&&0==b)return!0;switch(b){case a.SPACE:case a.QUESTION_MARK:case a.NUM_PLUS:case a.NUM_MINUS:case a.NUM_PERIOD:case a.NUM_DIVISION:case a.SEMICOLON:case a.DASH:case a.EQUALS:case a.COMMA:case a.PERIOD:case a.SLASH:case a.APOSTROPHE:case a.SINGLE_QUOTE:case a.OPEN_SQUARE_BRACKET:case a.BACKSLASH:case a.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return a});
KISSY.add("event/dom/base/gesture",function(){return{start:"mousedown",move:"mousemove",end:"mouseup",tap:"click",doubleTap:"dblclick"}});
KISSY.add("event/dom/base/special-events",function(f,d,a){var b=b;return f.mix(a,{mousewheel:{typeFix:f.UA.gecko?"DOMMouseScroll":"mousewheel"},load:{bubbles:!1},click:{fire:function(a){return!a&&"checkbox"===""+this.type&&this.click&&"input"==this.nodeName.toLowerCase()?(this.click(),!1):b}},focus:{bubbles:!1,preFire:function(a,b){b||d.fire(this,"focusin")},fire:function(a){return!a&&this.ownerDocument&&this!==this.ownerDocument.activeElement&&this.focus?(this.focus(),!1):b}},blur:{bubbles:!1,preFire:function(a,
b){b||d.fire(this,"focusout")},fire:function(a){return!a&&this.ownerDocument&&this===this.ownerDocument.activeElement&&this.blur?(this.blur(),!1):b}}})},{requires:["./dom-event","./special"]});
KISSY.add("event/dom/base/mouseenter",function(f,d,a){f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(b){a[b.name]={typeFix:b.fix,handle:function(a,b,f){var j=a.currentTarget,p=a.relatedTarget;if(!p||p!==j&&!d.contains(j,p))return[b.simpleNotify(a,f)]}}})},{requires:["dom","./special"]});
KISSY.add("event/dom/base/valuechange",function(f,d,a,b){function q(b){if(a.hasData(b,g)){var c=a.data(b,g);clearTimeout(c);a.removeData(b,g)}}function m(a){q(a.target)}function t(b){var f=b.value,g=a.data(b,h);f!==g&&(d.fireHandler(b,c,{prevVal:g,newVal:f}),a.data(b,h,f))}function j(b){a.hasData(b,g)||a.data(b,g,setTimeout(function(){t(b);a.data(b,g,setTimeout(arguments.callee,n))},n))}function p(b){var c=b.target;"focus"==b.type&&a.data(c,h,c.value);j(c)}function l(a){t(a.target)}function o(b){a.removeData(b,
h);q(b);d.detach(b,"blur",m);d.detach(b,"webkitspeechchange",l);d.detach(b,"mousedown keyup keydown focus",p)}var c="valuechange",k=a.nodeName,h="event/valuechange/history",g="event/valuechange/poll",n=50;b[c]={setup:function(){var a=k(this);if("input"==a||"textarea"==a)o(this),d.on(this,"blur",m),d.on(this,"webkitspeechchange",l),d.on(this,"mousedown keyup keydown focus",p)},tearDown:function(){o(this)}};return d},{requires:["./dom-event","dom","./special"]});
KISSY.add("event/dom/base",function(f,d,a,b,q){return f.merge({add:d.on,remove:d.detach,KeyCode:a,Gesture:b,Special:q},d)},{requires:"./base/dom-event,./base/key-codes,./base/gesture,./base/special-events,./base/mouseenter,./base/valuechange".split(",")});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event/dom/focusin",function(d,e){var g=e.Special;d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function f(a){return e.fire(a.target,c.name)}var b=d.guid("attaches_"+d.now()+"_");g[c.name]={setup:function(){var a=this.ownerDocument||this;b in a||(a[b]=0);a[b]+=1;1===a[b]&&a.addEventListener(c.fix,f,!0)},tearDown:function(){var a=this.ownerDocument||this;a[b]-=1;0===a[b]&&a.removeEventListener(c.fix,f,!0)}}});return e},{requires:["event/dom/base"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event/dom/base/utils",function(f,d){var a="ksEventTargetId_"+f.now(),b=f.Env.host.document;return{simpleAdd:b&&b.addEventListener?function(a,b,d,f){a.addEventListener&&a.addEventListener(b,d,!!f)}:function(a,b,d){a.attachEvent&&a.attachEvent("on"+b,d)},simpleRemove:b&&b.removeEventListener?function(a,b,d,f){a.removeEventListener&&a.removeEventListener(b,d,!!f)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)},data:function(b,f){return d.data(b,a,f)},removeData:function(b){return d.removeData(b,
a)}}},{requires:["dom"]});KISSY.add("event/dom/base/special",function(){return{}});
KISSY.add("event/dom/base/observer",function(f,d,a){function b(a){b.superclass.constructor.apply(this,arguments)}f.extend(b,a.Observer,{keys:"fn,filter,data,context,originalType,groups,last".split(","),notifyInternal:function(a,b){var f,j,p=a.type,l;(l=this.originalType)?a.type=l:l=p;(f=d[l])&&f.handle?(f=f.handle(a,this,b))&&0<f.length&&(j=f[0]):j=this.simpleNotify(a,b);a.type=p;return j}});return b},{requires:["./special","event/base"]});
KISSY.add("event/dom/base/object",function(f,d,a){function b(){return j}function q(){return p}function m(c){var k=c.type;m.superclass.constructor.call(this);this.originalEvent=c;this.isDefaultPrevented=c.defaultPrevented||c.returnValue===p||c.getPreventDefault&&c.getPreventDefault()?b:q;var h=null,g,n,i=l.concat();f.each(o,function(c){return k.match(c.reg)?(i=i.concat(c.props),h=c.fix,!1):a});for(g=i.length;g;)n=i[--g],this[n]=c[n];this.target||(this.target=c.srcElement||t);3===this.target.nodeType&&
(this.target=this.target.parentNode);h&&h(this,c)}var t=f.Env.host.document,j=!0,p=!1,l="altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,shiftKey,target,timeStamp,view,type".split(","),o=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(c,k){null==c.which&&(c.which=null!=k.charCode?k.charCode:k.keyCode);c.metaKey===a&&(c.metaKey=c.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},
{reg:/^mousewheel$/,props:[],fix:function(c,k){var h,g,l,i=k.wheelDelta,b=k.axis,o=k.wheelDeltaY,f=k.wheelDeltaX,d=k.detail;i&&(l=i/120);d&&(l=-(0==d%3?d/3:d));b!==a&&(b===e.HORIZONTAL_AXIS?(g=0,h=-1*l):b===e.VERTICAL_AXIS&&(h=0,g=l));o!==a&&(g=o/120);f!==a&&(h=-1*f/120);!h&&!g&&(g=l);h!==a&&(c.deltaX=h);g!==a&&(c.deltaY=g);l!==a&&(c.delta=l)}},{reg:/^mouse|contextmenu|click|mspointer/i,props:"buttons,clientX,clientY,button,offsetX,relatedTarget,which,fromElement,toElement,offsetY,pageX,pageY,screenX,screenY".split(","),
fix:function(c,l){var h,g,b=c.target,i=l.button;null==c.pageX&&null!=l.clientX&&(h=b.ownerDocument||t,g=h.documentElement,h=h.body,c.pageX=l.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&h.clientLeft||0),c.pageY=l.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&h.clientTop||0));!c.which&&i!==a&&(c.which=i&1?1:i&2?3:i&4?2:0);!c.relatedTarget&&c.fromElement&&(c.relatedTarget=c.fromElement===b?c.toElement:c.fromElement);return c}}];f.extend(m,d.Object,{constructor:m,
preventDefault:function(){var a=this.originalEvent;a.preventDefault?a.preventDefault():a.returnValue=p;m.superclass.preventDefault.call(this)},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=j;m.superclass.stopPropagation.call(this)}});return m},{requires:["event/base"]});
KISSY.add("event/dom/base/observable",function(f,d,a,b,q,m,t){function j(a){f.mix(this,a);this.reset()}var p=t.Utils;f.extend(j,t.Observable,{setup:function(){var l=this.type,o=a[l]||{},c=this.currentTarget,k=b.data(c).handle;(!o.setup||!1===o.setup.call(c,l))&&b.simpleAdd(c,l,k)},constructor:j,reset:function(){j.superclass.reset.call(this);this.lastCount=this.delegateCount=0},notify:function(a){var b=a.target,c=a.type,k=this.currentTarget,h=this.observers,g=[],n,i,f=this.delegateCount||0,s,u;if(f&&
b.nodeType)for(;b!=k;){if(!0!==b.disabled||"click"!==c){var r={},m,j,q;s=[];for(i=0;i<f;i++)u=h[i],q=u.filter,j=q+"",m=r[j],void 0===m&&(m=r[j]=d.test(b,q)),m&&s.push(u);s.length&&g.push({currentTarget:b,currentTargetObservers:s})}b=b.parentNode||k}f<h.length&&g.push({currentTarget:k,currentTargetObservers:h.slice(f)});i=0;for(b=g.length;!a.isPropagationStopped()&&i<b;++i){c=g[i];s=c.currentTargetObservers;c=c.currentTarget;a.currentTarget=c;for(c=0;!a.isImmediatePropagationStopped()&&c<s.length;c++)k=
s[c],k=k.notify(a,this),!1!==n&&(n=k)}return n},fire:function(b,o){var b=b||{},c=""+this.type,k,h,g=a[c]||{};k=!1!==g.bubbles;var n=this.currentTarget;if(!(g.fire&&!1===g.fire.call(n,o))&&(b instanceof m||(h=b,b=new m({currentTarget:n,type:c,target:n}),f.mix(b,h)),!(g.preFire&&!1===g.preFire.call(n,b,o)))){var i=n,v=d.getWindow(i),s=v.document;h=[];g=0;do h.push(i),i=i.parentNode||i.ownerDocument||i===s&&v;while(!o&&i&&k);i=h[g];do b.currentTarget=i,(k=j.getDomEventObservable(i,c))&&k.notify(b),i=
h[++g];while(!o&&i&&!b.isPropagationStopped());if(!o&&!b.isDefaultPrevented()){try{n[c]&&!f.isWindow(n)&&(j.triggeredEvent=c,n[c]())}catch(u){}j.triggeredEvent=""}}},on:function(b){var f=this.observers,c=a[this.type]||{},b=b instanceof q?b:new q(b);-1==this.findObserver(b)&&(b.filter?(f.splice(this.delegateCount,0,b),this.delegateCount++):b.last?(f.push(b),this.lastCount++):f.splice(f.length-this.lastCount,0,b),c.add&&c.add.call(this.currentTarget,b))},detach:function(b){var f,c=a[this.type]||{},
k="filter"in b,h=b.filter,g=b.context,n=b.fn,i=this.currentTarget,d=this.observers,b=b.groups;if(d.length){b&&(f=p.getGroupsRe(b));var s,u,r,m,j=d.length;if(n||k||f){g=g||i;s=b=0;for(u=[];b<j;++b)r=d[b],m=r.context||i,g!=m||n&&n!=r.fn||k&&(h&&h!=r.filter||!h&&!r.filter)||f&&!r.groups.match(f)?u[s++]=r:(r.filter&&this.delegateCount&&this.delegateCount--,r.last&&this.lastCount&&this.lastCount--,c.remove&&c.remove.call(i,r));this.observers=u}else this.reset();this.checkMemory()}},checkMemory:function(){var d=
this.type,m,c,k=a[d]||{},h=this.currentTarget,g=b.data(h);if(g&&(m=g.observables,this.hasObserver()||(c=g.handle,(!k.tearDown||!1===k.tearDown.call(h,d))&&b.simpleRemove(h,d,c),delete m[d]),f.isEmptyObject(m)))g.handle=null,b.removeData(h)}});j.triggeredEvent="";j.getDomEventObservable=function(a,f){var c=b.data(a),k;c&&(k=c.observables);return k?k[f]:null};j.getDomEventObservablesHolder=function(a,f){var c=b.data(a);!c&&f&&b.data(a,c={});return c};return j},{requires:"dom,./special,./utils,./observer,./object,event/base".split(",")});
KISSY.add("event/dom/base/dom-event",function(f,d,a,b,q,m,t){function j(a,b){var c=q[b]||{},f;if(!a.originalType&&(f=c.typeFix))a.originalType=b,b=f;return b}function p(a,b,c){var d,i,v,c=f.merge(c),b=j(c,b);d=m.getDomEventObservablesHolder(a,1);if(!(v=d.handle))v=d.handle=function(a){var b=a.type,c=v.currentTarget;if(!(m.triggeredEvent==b||"undefined"==typeof KISSY))if(b=m.getDomEventObservable(c,b))return a.currentTarget=c,a=new t(a),b.notify(a)},v.currentTarget=a;if(!(i=d.observables))i=d.observables=
{};d=i[b];d||(d=i[b]=new m({type:b,currentTarget:a}),d.setup());d.on(c);a=null}function l(a,b,c){var c=f.merge(c),b=j(c,b),a=m.getDomEventObservablesHolder(a),d=(a||{}).observables;if(a&&d)if(b)(b=d[b])&&b.detach(c);else for(b in d)d[b].detach(c)}var o=d.Utils,c={};f.mix(c,{on:function(a,c,g,d){a=b.query(a);o.batchForType(function(a,b,c,d){for(var c=o.normalizeParam(b,c,d),g,b=c.type,d=a.length-1;0<=d;d--)g=a[d],p(g,b,c)},1,a,c,g,d);return a},detach:function(a,c,d,f){a=b.query(a);o.batchForType(function(a,
b,c,d){for(var c=o.normalizeParam(b,c,d),g,f,b=c.type,d=a.length-1;0<=d;d--)if(g=a[d],l(g,b,c),c.deep&&g.getElementsByTagName){f=g.getElementsByTagName("*");for(g=f.length-1;0<=g;g--)l(f[g],b,c)}},1,a,c,d,f);return a},delegate:function(a,b,d,f,i){return c.on(a,b,{fn:f,context:i,filter:d})},undelegate:function(a,b,d,f,i){return c.detach(a,b,{fn:f,context:i,filter:d})},fire:function(a,c,d,f){var i=void 0,d=d||{};d.synthetic=1;o.splitAndRun(c,function(c){var h,j,l;o.fillGroupsForEvent(c,d);c=d.type;
if((j=q[c])&&j.typeFix)c=j.typeFix;a=b.query(a);for(j=a.length-1;0<=j;j--)h=a[j],l=m.getDomEventObservable(h,c),!f&&!l&&(l=new m({type:c,currentTarget:h})),l&&(h=l.fire(d,f),!1!==i&&(i=h))});return i},fireHandler:function(a,b,d){return c.fire(a,b,d,1)},clone:function(b,c){var d;if(d=m.getDomEventObservablesHolder(b)){var j=a.data(b);j&&j===a.data(c)&&a.removeData(c);f.each(d.observables,function(a,b){f.each(a.observers,function(a){p(c,b,a)})})}}});return c},{requires:"event/base,./utils,dom,./special,./observable,./object".split(",")});
KISSY.add("event/dom/base/key-codes",function(f){var d=f.UA,a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,
Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,
WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(b){if(b.altKey&&!b.ctrlKey||b.metaKey||b.keyCode>=a.F1&&b.keyCode<=a.F12)return!1;switch(b.keyCode){case a.ALT:case a.CAPS_LOCK:case a.CONTEXT_MENU:case a.CTRL:case a.DOWN:case a.END:case a.ESC:case a.HOME:case a.INSERT:case a.LEFT:case a.MAC_FF_META:case a.META:case a.NUMLOCK:case a.NUM_CENTER:case a.PAGE_DOWN:case a.PAGE_UP:case a.PAUSE:case a.PRINT_SCREEN:case a.RIGHT:case a.SHIFT:case a.UP:case a.WIN_KEY:case a.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(b){if(b>=a.ZERO&&b<=a.NINE||b>=a.NUM_ZERO&&b<=a.NUM_MULTIPLY||b>=a.A&&b<=a.Z||d.webkit&&0==b)return!0;switch(b){case a.SPACE:case a.QUESTION_MARK:case a.NUM_PLUS:case a.NUM_MINUS:case a.NUM_PERIOD:case a.NUM_DIVISION:case a.SEMICOLON:case a.DASH:case a.EQUALS:case a.COMMA:case a.PERIOD:case a.SLASH:case a.APOSTROPHE:case a.SINGLE_QUOTE:case a.OPEN_SQUARE_BRACKET:case a.BACKSLASH:case a.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return a});
KISSY.add("event/dom/base/gesture",function(){return{start:"mousedown",move:"mousemove",end:"mouseup",tap:"click",doubleTap:"dblclick"}});
KISSY.add("event/dom/base/special-events",function(f,d,a){var b=b;return f.mix(a,{mousewheel:{typeFix:f.UA.gecko?"DOMMouseScroll":"mousewheel"},load:{bubbles:!1},click:{fire:function(a){return!a&&"checkbox"===""+this.type&&this.click&&"input"==this.nodeName.toLowerCase()?(this.click(),!1):b}},focus:{bubbles:!1,preFire:function(a,b){b||d.fire(this,"focusin")},fire:function(a){return!a&&this.ownerDocument&&this!==this.ownerDocument.activeElement&&this.focus?(this.focus(),!1):b}},blur:{bubbles:!1,preFire:function(a,
b){b||d.fire(this,"focusout")},fire:function(a){return!a&&this.ownerDocument&&this===this.ownerDocument.activeElement&&this.blur?(this.blur(),!1):b}}})},{requires:["./dom-event","./special"]});
KISSY.add("event/dom/base/mouseenter",function(f,d,a){f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(b){a[b.name]={typeFix:b.fix,handle:function(a,b,f){var j=a.currentTarget,p=a.relatedTarget;if(!p||p!==j&&!d.contains(j,p))return[b.simpleNotify(a,f)]}}})},{requires:["dom","./special"]});
KISSY.add("event/dom/base/valuechange",function(f,d,a,b){function q(b){if(a.hasData(b,g)){var c=a.data(b,g);clearTimeout(c);a.removeData(b,g)}}function m(a){q(a.target)}function t(b){var f=b.value,g=a.data(b,h);f!==g&&(d.fireHandler(b,c,{prevVal:g,newVal:f}),a.data(b,h,f))}function j(b){a.hasData(b,g)||a.data(b,g,setTimeout(function(){t(b);a.data(b,g,setTimeout(arguments.callee,n))},n))}function p(b){var c=b.target;"focus"==b.type&&a.data(c,h,c.value);j(c)}function l(a){t(a.target)}function o(b){a.removeData(b,
h);q(b);d.detach(b,"blur",m);d.detach(b,"webkitspeechchange",l);d.detach(b,"mousedown keyup keydown focus",p)}var c="valuechange",k=a.nodeName,h="event/valuechange/history",g="event/valuechange/poll",n=50;b[c]={setup:function(){var a=k(this);if("input"==a||"textarea"==a)o(this),d.on(this,"blur",m),d.on(this,"webkitspeechchange",l),d.on(this,"mousedown keyup keydown focus",p)},tearDown:function(){o(this)}};return d},{requires:["./dom-event","dom","./special"]});
KISSY.add("event/dom/base",function(f,d,a,b,q){return f.merge({add:d.on,remove:d.detach,KeyCode:a,Gesture:b,Special:q},d)},{requires:"./base/dom-event,./base/key-codes,./base/gesture,./base/special-events,./base/mouseenter,./base/valuechange".split(",")});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event/dom/shake",function(d,k,f){function l(a){var b=a.accelerationIncludingGravity,a=b.x,d=b.y,b=b.z,g;c!==f&&(g=n(h(a-c),h(d-i),h(b-j)),g>o&&m(),g>p&&(e=1));c=a;i=d;j=b}var q=k.Special,o=5,p=20,e=0,c,i,j,n=Math.max,h=Math.abs,a=d.Env.host,m=d.buffer(function(){e&&(k.fireHandler(a,"shake",{accelerationIncludingGravity:{x:c,y:i,z:j}}),c=f,e=0)},250);q.shake={setup:function(){this==a&&a.addEventListener("devicemotion",l,!1)},tearDown:function(){this==a&&(m.stop(),c=f,e=0,a.removeEventListener("devicemotion",
l,!1))}}},{requires:["event/dom/base"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event/custom/observer",function(h,m){function f(){f.superclass.constructor.apply(this,arguments)}h.extend(f,m.Observer,{keys:["fn","context","groups"]});return f},{requires:["event/base"]});KISSY.add("event/custom/object",function(h,m){function f(j){f.superclass.constructor.call(this);h.mix(this,j)}h.extend(f,m.Object);return f},{requires:["event/base"]});
KISSY.add("event/custom/observable",function(h,m,f,j){function i(){i.superclass.constructor.apply(this,arguments);this.defaultFn=null;this.defaultTargetOnly=!1;this.bubbles=!0}var b=j.Utils;h.extend(i,j.Observable,{on:function(a){a=new m(a);-1==this.findObserver(a)&&this.observers.push(a)},fire:function(a){var a=a||{},c=this.bubbles,d=this.currentTarget,e,l=this.type,k=this.defaultFn,n,g=a,b;a.type=l;g instanceof f||(g.target=d,g=new f(g));g.currentTarget=d;a=this.notify(g);!1!==b&&(b=a);if(c&&!g.isPropagationStopped()){e=
(c=d.getTargets(1))&&c.length||0;for(n=0;n<e&&!g.isPropagationStopped();n++)a=c[n].fire(l,g),!1!==b&&(b=a)}if(k&&!g.isDefaultPrevented()&&(l=i.getCustomEventObservable(g.target,g.type),!this.defaultTargetOnly&&!l.defaultTargetOnly||d==g.target))b=k.call(d,g);return b},notify:function(a){var c=[].concat(this.observers),d,e,b=c.length,k;for(k=0;k<b&&!a.isImmediatePropagationStopped();k++)d=c[k].notify(a,this),!1!==e&&(e=d),!1===d&&a.halt();return e},detach:function(a){var c,d=a.fn,e=a.context,l=this.currentTarget,
k=this.observers,a=a.groups;if(k.length){a&&(c=b.getGroupsRe(a));var n,g,f,h,j=k.length;if(d||c){e=e||l;n=a=0;for(g=[];a<j;++a)if(f=k[a],h=f.context||l,e!=h||d&&d!=f.fn||c&&!f.groups.match(c))g[n++]=f;this.observers=g}else this.reset()}}});i.getCustomEventObservable=function(a,c,d){var e,b=i.getCustomEventObservables(a,d);e=b&&b[c];!e&&d&&(e=b[c]=new i({currentTarget:a,type:c}));return e};i.getCustomEventObservables=function(a,b){!a["__~ks_custom_events"]&&b&&(a["__~ks_custom_events"]={});return a["__~ks_custom_events"]};
return i},{requires:["./observer","./object","event/base"]});
KISSY.add("event/custom/target",function(h,m,f){var j=m.Utils,i=j.splitAndRun;return{isTarget:1,fire:function(b,a){var c=this,d=void 0,e=c.getTargets(1),l=e&&e.length,a=a||{};i(b,function(b){var e;j.fillGroupsForEvent(b,a);b=a.type;if((e=f.getCustomEventObservable(c,b))||l){if(e){if(!e.hasObserver()&&!e.defaultFn&&(e.bubbles&&!l||!e.bubbles))return}else e=new f({currentTarget:c,type:b});b=e.fire(a);!1!==d&&(d=b)}});return d},publish:function(b,a){var c,d=this;i(b,function(e){c=f.getCustomEventObservable(d,
e,1);h.mix(c,a)});return d},addTarget:function(b){var a=this.getTargets();h.inArray(b,a)||a.push(b);return this},removeTarget:function(b){var a=this.getTargets(),b=h.indexOf(b,a);-1!=b&&a.splice(b,1);return this},getTargets:function(b){b||(this["__~ks_bubble_targets"]=this["__~ks_bubble_targets"]||[]);return this["__~ks_bubble_targets"]},on:function(b,a,c){var d=this;j.batchForType(function(a,b,c){b=j.normalizeParam(a,b,c);a=b.type;if(a=f.getCustomEventObservable(d,a,1))a.on(b)},0,b,a,c);return d},
detach:function(b,a,c){var d=this;j.batchForType(function(a,b,c){var i=j.normalizeParam(a,b,c);(a=i.type)?(a=f.getCustomEventObservable(d,a,1))&&a.detach(i):(a=f.getCustomEventObservables(d),h.each(a,function(a){a.detach(i)}))},0,b,a,c);return d}}},{requires:["event/base","./observable"]});KISSY.add("event/custom",function(h,m){return{Target:m}},{requires:["./custom/target"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event/base/utils",function(e){function f(a){if(0>a.indexOf("."))return[a,""];var b=a.match(/([^.]+)?(\..+)?$/),a=[b[1]];(b=b[2])?(b=b.split(".").sort(),a.push(b.join("."))):a.push("");return a}var d,c;return{splitAndRun:d=function(a,b){e.isArray(a)?e.each(a,b):(a=e.trim(a),-1==a.indexOf(" ")?b(a):e.each(a.split(/\s+/),b))},normalizeParam:function(a,b,c){var d=b||{},d=e.isFunction(b)?{fn:b,context:c}:e.merge(d),b=f(a),a=b[0];d.groups=b[1];d.type=a;return d},batchForType:function(a,b){var c=
e.makeArray(arguments),f=c[2+b];f&&"object"==typeof f?e.each(f,function(d,f){var e=[].concat(c);e.splice(0,2);e[b]=f;e[b+1]=d;a.apply(null,e)}):d(f,function(d){var e=[].concat(c);e.splice(0,2);e[b]=d;a.apply(null,e)})},fillGroupsForEvent:function(a,b){var d=f(a),e=d[1];e&&(e=c(e),b._ks_groups=e);b.type=d[0]},getGroupsRe:c=function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/base/object",function(e,f){function d(){this.timeStamp=e.now();this.currentTarget=this.target=f}var c=function(){return!1},a=function(){return!0};d.prototype={constructor:d,isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){this.isDefaultPrevented=a},stopPropagation:function(){this.isPropagationStopped=a},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():
this.stopPropagation();this.preventDefault()}};return d});
KISSY.add("event/base/observer",function(e,f){function d(c){e.mix(this,c)}d.prototype={constructor:d,equals:function(c){var a=this;return!!e.reduce(a.keys,function(b,d){return b&&a[d]===c[d]},1)},simpleNotify:function(c,a){var b;b=this.fn.call(this.context||a.currentTarget,c,this.data);this.once&&a.removeObserver(this);return b},notifyInternal:function(c,a){return this.simpleNotify(c,a)},notify:function(c,a){var b;if((b=c._ks_groups)&&(!this.groups||!this.groups.match(b)))return f;b=this.notifyInternal(c,
a);!1===b&&c.halt();return b}};return d});
KISSY.add("event/base/observable",function(e){function f(d){this.currentTarget=null;e.mix(this,d);this.reset()}f.prototype={constructor:f,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(d){var c,a=this.observers,b=a.length;for(c=0;c<b;c++)if(a[c]==d){a.splice(c,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(d){var c=this.observers,a;for(a=c.length-1;0<=a;--a)if(d.equals(c[a]))return a;return-1}};return f});
KISSY.add("event/base",function(e,f,d,c,a){return{Utils:f,Object:d,Observer:c,Observable:a}},{requires:["./base/utils","./base/object","./base/observer","./base/observable"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event",function(a,c,b){a.EventTarget=b.Target;return a.Event=a.merge(c,b)},{requires:["event/dom","event/custom"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 13:48
*/
KISSY.add("anim/base/queue",function(c,e){function h(b,d,a){var d=d||g,c,j=e.data(b,i);!j&&!a&&e.data(b,i,j={});j&&(c=j[d],!c&&!a&&(c=j[d]=[]));return c}var i=c.guid("ks-queue-"+c.now()+"-"),g=c.guid("ks-queue-"+c.now()+"-"),f;return f={queueCollectionKey:i,queue:function(b,c,a){b=h(b,c);b.push(a);return b},remove:function(b,d,a){var e=h(b,d,1);e&&(a=c.indexOf(a,e),-1<a&&e.splice(a,1));e&&!e.length&&f.clearQueue(b,d);return e},clearQueues:function(b){e.removeData(b,i)},clearQueue:function(b,d){var d=
d||g,a=e.data(b,i);a&&delete a[d];c.isEmptyObject(a)&&e.removeData(b,i)},dequeue:function(b,c){var a=h(b,c,1);a&&(a.shift(),a.length||f.clearQueue(b,c));return a}}},{requires:["dom"]});
KISSY.add("anim/base/utils",function(c,e,h,i){var g=c.guid("ks-anim-unqueued-"+c.now()+"-"),f=c.guid("ks-anim-paused-"+c.now()+"-");return{saveRunningAnim:function(b){var d=b.node,a=e.data(d,g);a||e.data(d,g,a={});a[c.stamp(b)]=b},removeRunningAnim:function(b){var d=b.node,a=e.data(d,g);a&&(delete a[c.stamp(b)],c.isEmptyObject(a)&&e.removeData(d,g))},isAnimPaused:function(b){var d=e.data(b.node,f);return d?!!d[c.stamp(b)]:0},removePausedAnim:function(b){var d=b.node,a=e.data(d,f);a&&(delete a[c.stamp(b)],
c.isEmptyObject(a)&&e.removeData(d,f))},savePausedAnim:function(b){var d=b.node,a=e.data(d,f);a||e.data(d,f,a={});a[c.stamp(b)]=b},isAnimRunning:function(b){var d=e.data(b.node,g);return d?!!d[c.stamp(b)]:0},isElPaused:function(b){return(b=e.data(b,f))&&!c.isEmptyObject(b)},isElRunning:function(b){return(b=e.data(b,g))&&!c.isEmptyObject(b)},pauseOrResumeQueue:function(b,d,a){b=e.data(b,"resume"==a?f:g);b=c.merge(b);c.each(b,function(b){if(d===i||b.config.queue==d)b[a]()})},stopEl:function(b,d,a,f){a&&
(f===i?h.clearQueues(b):!1!==f&&h.clearQueue(b,f));b=e.data(b,g);b=c.merge(b);c.each(b,function(a){(f===i||a.config.queue==f)&&a.stop(d)})}}},{requires:["dom","./queue"]});
KISSY.add("anim/base",function(c,e,h,i,g){function f(a){this.config=a;this.node=this.el=e.get(a.node);this._backupProps={};this._propsData={};if(a=a.complete)this.on("complete",a)}var b=e.NodeType,d={toggle:1,hide:1,show:1};c.augment(f,i.Target,{prepareFx:function(){},runInternal:function(){var a=this,f=a.config,j=a.node,g,i=a._backupProps,m=a._propsData,k=f.to,o=f.delay||0,p=f.duration;h.saveRunningAnim(a);if(!1===a.fire("beforeStart"))a.stop(0);else{c.each(k,function(a,b){c.isPlainObject(a)||(a=
{value:a});m[b]=c.mix({delay:o,easing:f.easing,frame:f.frame,duration:p},a)});if(j.nodeType==b.ELEMENT_NODE){if(k.width||k.height)k=j.style,c.mix(i,{overflow:k.overflow,"overflow-x":k.overflowX,"overflow-y":k.overflowY}),k.overflow="hidden","inline"===e.css(j,"display")&&"none"===e.css(j,"float")&&(c.UA.ie?k.zoom=1:k.display="inline-block");var n,l;l="none"===e.css(j,"display");c.each(m,function(b,c){g=b.value;if(d[g]){if("hide"==g&&l||"show"==g&&!l)return a.stop(1),n=!1;i[c]=e.style(j,c);"toggle"==
g?g=l?"show":"hide":"hide"==g?(b.value=0,i.display="none"):(b.value=e.css(j,c),e.css(j,c,0),e.show(j))}});if(!1===n)return}a.startTime=c.now();a.prepareFx();a.doStart()}},isRunning:function(){return h.isAnimRunning(this)},isPaused:function(){return h.isAnimPaused(this)},pause:function(){this.isRunning()&&(this._runTime=c.now()-this.startTime,h.removeRunningAnim(this),h.savePausedAnim(this),this.doStop());return this},doStop:function(){},doStart:function(){},resume:function(){this.isPaused()&&(this.startTime=
c.now()-this._runTime,h.removePausedAnim(this),h.saveRunningAnim(this),this.beforeResume(),this.doStart());return this},beforeResume:function(){},run:function(){var a;a=this.config.queue;!1===a?this.runInternal():(a=g.queue(this.node,a,this),1==a.length&&this.runInternal());return this},stop:function(a){var b=this.node,d=this.config.queue;if(!this.isRunning()&&!this.isPaused())return!1!==d&&g.remove(b,d,this),this;h.removeRunningAnim(this);h.removePausedAnim(this);this.doStop(a);if(a){var f;c.isEmptyObject(f=
this._backupProps)||e.css(this.node,f);this.fire("complete")}!1!==d&&(a=g.dequeue(b,d))&&a[0]&&a[0].runInternal();this.fire("end");return this}});f.Utils=h;f.Q=g;return f},{requires:["dom","./base/utils","event/custom","./base/queue"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 13:48
*/
KISSY.add("anim",function(b,k,g,h,i){function a(a,e,d,f,c){if(a.node)c=a;else{"string"==typeof e?(e=b.unparam(""+e,";",":"),b.each(e,function(c,a){var d=b.trim(a);d&&(e[d]=b.trim(c));(!d||d!=a)&&delete e[a]})):e=b.clone(e);if(b.isPlainObject(d))c=b.clone(d);else if(c={complete:c},d&&(c.duration=d),f)c.easing=f;c.node=a;c.to=e}c=b.merge(j,c,{useTransition:b.config("anim/useTransition")});return c.useTransition&&i?new i(c):new h(c)}var f=g.Utils,j={duration:1,easing:"linear"};b.each(["pause","resume"],
function(b){a[b]=function(a,d){return null===d||"string"==typeof d||!1===d?f.pauseOrResumeQueue(a,d,b):f.pauseOrResumeQueue(a,void 0,b)}});a.isRunning=f.isElRunning;a.isPaused=f.isElPaused;a.stop=f.stopEl;a.Easing=h.Easing;b.Anim=a;a.Q=g.Q;return a},{requires:["dom","anim/base","anim/timer",KISSY.Features.isTransitionSupported()?"anim/transition":""]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 19:20
*/
KISSY.add("event/base/utils",function(e){function f(a){if(0>a.indexOf("."))return[a,""];var b=a.match(/([^.]+)?(\..+)?$/),a=[b[1]];(b=b[2])?(b=b.split(".").sort(),a.push(b.join("."))):a.push("");return a}var d,c;return{splitAndRun:d=function(a,b){e.isArray(a)?e.each(a,b):(a=e.trim(a),-1==a.indexOf(" ")?b(a):e.each(a.split(/\s+/),b))},normalizeParam:function(a,b,c){var d=b||{},d=e.isFunction(b)?{fn:b,context:c}:e.merge(d),b=f(a),a=b[0];d.groups=b[1];d.type=a;return d},batchForType:function(a,b){var c=
e.makeArray(arguments),f=c[2+b];f&&"object"==typeof f?e.each(f,function(d,f){var e=[].concat(c);e.splice(0,2);e[b]=f;e[b+1]=d;a.apply(null,e)}):d(f,function(d){var e=[].concat(c);e.splice(0,2);e[b]=d;a.apply(null,e)})},fillGroupsForEvent:function(a,b){var d=f(a),e=d[1];e&&(e=c(e),b._ks_groups=e);b.type=d[0]},getGroupsRe:c=function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/base/object",function(e,f){function d(){this.timeStamp=e.now();this.currentTarget=this.target=f}var c=function(){return!1},a=function(){return!0};d.prototype={constructor:d,isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){this.isDefaultPrevented=a},stopPropagation:function(){this.isPropagationStopped=a},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():
this.stopPropagation();this.preventDefault()}};return d});
KISSY.add("event/base/observer",function(e,f){function d(c){e.mix(this,c)}d.prototype={constructor:d,equals:function(c){var a=this;return!!e.reduce(a.keys,function(b,d){return b&&a[d]===c[d]},1)},simpleNotify:function(c,a){var b;b=this.fn.call(this.context||a.currentTarget,c,this.data);this.once&&a.removeObserver(this);return b},notifyInternal:function(c,a){return this.simpleNotify(c,a)},notify:function(c,a){var b;if((b=c._ks_groups)&&(!this.groups||!this.groups.match(b)))return f;b=this.notifyInternal(c,
a);!1===b&&c.halt();return b}};return d});
KISSY.add("event/base/observable",function(e){function f(d){this.currentTarget=null;e.mix(this,d);this.reset()}f.prototype={constructor:f,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(d){var c,a=this.observers,b=a.length;for(c=0;c<b;c++)if(a[c]==d){a.splice(c,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(d){var c=this.observers,a;for(a=c.length-1;0<=a;--a)if(d.equals(c[a]))return a;return-1}};return f});
KISSY.add("event/base",function(e,f,d,c,a){return{Utils:f,Object:d,Observer:c,Observable:a}},{requires:["./base/utils","./base/object","./base/observer","./base/observable"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 13:48
*/
KISSY.add("anim/timer/easing",function(){function h(a){return a}function f(a,b,o,d){var m=3*a-3*o+1,e=3*o-6*a,g=3*a,c=3*b-3*d+1,h=3*d-6*b,f=3*b;return function(a){a:{for(var b=a,o,d,l=0;8>l;l++){d=((m*b+e)*b+g)*b-a;if(n(d)<j){a=b;break a}o=(3*m*b+2*e)*b+g;if(n(o)<j)break;b-=d/o}o=1;l=0;for(b=a;o>l;){d=((m*b+e)*b+g)*b-a;if(n(d)<j)break;0<d?o=b:l=b;b=(o+l)/2}a=b}return((c*a+h)*a+f)*a}}var i=Math.PI,c=Math.pow,k=Math.sin,b=parseFloat,g=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/i,e={swing:function(a){return-Math.cos(a*
i)/2+0.5},easeNone:h,linear:h,easeIn:function(a){return a*a},ease:f(0.25,0.1,0.25,1),"ease-in":f(0.42,0,1,1),"ease-out":f(0,0,0.58,1),"ease-in-out":f(0.42,0,0.58,1),"ease-out-in":f(0,0.42,1,0.58),toFn:function(a){var j;return(j=a.match(g))?f(b(j[1]),b(j[2]),b(j[3]),b(j[4])):e[a]||h},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return 1>(a*=2)?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return 1>
(a*=2)?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){return 0===a||1===a?a:-(c(2,10*(a-=1))*k((a-0.075)*2*i/0.3))},elasticOut:function(a){return 0===a||1===a?a:c(2,-10*a)*k((a-0.075)*2*i/0.3)+1},elasticBoth:function(a){return 0===a||2===(a*=2)?a:1>a?-0.5*c(2,10*(a-=1))*k((a-0.1125)*2*i/0.45):0.5*c(2,-10*(a-=1))*k((a-0.1125)*2*i/0.45)+1},backIn:function(a){1===a&&(a-=0.001);return a*a*(2.70158*a-1.70158)},backOut:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},backBoth:function(a){var b,
o=(b=2.5949095)+1;return 1>(a*=2)?0.5*a*a*(o*a-b):0.5*((a-=2)*a*(o*a+b)+2)},bounceIn:function(a){return 1-e.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){return 0.5>a?0.5*e.bounceIn(2*a):0.5*e.bounceOut(2*a-1)+0.5}},j=1.0E-6,n=Math.abs;return e});
KISSY.add("anim/timer/manager",function(h,f){var i=h.stamp,c=h.Env.host,k=c.requestAnimationFrame,b=c.cancelAnimationFrame;if(!k)for(var g=["ms","moz","webkit","o"],e=0;e<g.length&&!k;++e)k=c[g[e]+"RequestAnimationFrame"],b=c[g[e]+"CancelAnimationFrame"]||c[g[e]+"CancelRequestAnimationFrame"];if(!k||h.UA.chrome)k=function(b){return setTimeout(b,15)},b=function(b){clearTimeout(b)};return{runnings:{},timer:null,start:function(b){var e=i(b);this.runnings[e]||(this.runnings[e]=b,this.startTimer())},stop:function(b){this.notRun(b)},
notRun:function(b){delete this.runnings[i(b)];h.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(b){this.notRun(b)},resume:function(b){this.start(b)},startTimer:function(){var b=this;b.timer||(b.timer=k(function a(){b.runFrames()?b.stopTimer():b.timer=k(a)}))},stopTimer:function(){var e=this.timer;e&&(b(e),this.timer=0)},runFrames:function(){var b,e,a=this.runnings;for(b in a)a[b].frame(),e=0;return e===f}}});
KISSY.add("anim/timer/fx",function(h,f,i){function c(b){this.load(b)}function k(b,g){return(!b.style||null==b.style[g])&&null!=f.attr(b,g,i,1)?1:0}c.prototype={isBasicFx:1,constructor:c,load:function(b){h.mix(this,b);this.pos=0;this.unit=this.unit||""},frame:function(b){this.pos=b;this.update();this.finished=this.finished||1==b},interpolate:function(b,g,e){return h.isNumber(b)&&h.isNumber(g)?(b+(g-b)*e).toFixed(3):i},update:function(){var b=this.prop,g=this.anim.node,e=this.to,c=this.interpolate(this.from,
e,this.pos);c===i?this.finished||(this.finished=1,f.css(g,b,e)):(c+=this.unit,k(g,b)?f.attr(g,b,c,1):f.css(g,b,c))},cur:function(){var b=this.prop,c=this.anim.node;if(k(c,b))return f.attr(c,b,i,1);var e,b=f.css(c,b);return isNaN(e=parseFloat(b))?!b||"auto"===b?0:b:e}};c.Factories={};c.getPos=function(b,c){var e=h.now(),f=c.duration,e=e-b.startTime-c.delay;return 0>=e?0:e>=f?1:c.easing(e/f)};c.getFx=function(b){return new (c.Factories[b.prop]||c)(b)};return c},{requires:["dom"]});
KISSY.add("anim/timer/short-hand",function(){return{background:[],border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]}});
KISSY.add("anim/timer/color",function(h,f,i,c){function k(b){var b=b+"",d;if(d=b.match(n))return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])];if(d=b.match(a))return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),parseInt(d[4])];if(d=b.match(l)){for(b=1;b<d.length;b++)2>d[b].length&&(d[b]+=d[b]);return[parseInt(d[1],g),parseInt(d[2],g),parseInt(d[3],g)]}return j[b=b.toLowerCase()]?j[b]:[255,255,255]}function b(){b.superclass.constructor.apply(this,arguments)}var g=16,e=Math.floor,j={black:[0,0,0],silver:[192,
192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},n=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,a=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,l=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;c.background.push("backgroundColor");c.borderColor=["borderBottomColor","borderLeftColor",
"borderRightColor","borderTopColor"];c.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");c.borderBottom.push("borderBottomColor");c.borderLeft.push("borderLeftColor");c.borderRight.push("borderRightColor");c.borderTop.push("borderTopColor");h.extend(b,i,{load:function(){b.superclass.load.apply(this,arguments);this.from&&(this.from=k(this.from));this.to&&(this.to=k(this.to))},interpolate:function(a,d,c){var l=b.superclass.interpolate;return 3==a.length&&3==d.length?
"rgb("+[e(l(a[0],d[0],c)),e(l(a[1],d[1],c)),e(l(a[2],d[2],c))].join(", ")+")":4==a.length||4==d.length?"rgba("+[e(l(a[0],d[0],c)),e(l(a[1],d[1],c)),e(l(a[2],d[2],c)),e(l(a[3]||1,d[3]||1,c))].join(", ")+")":h.log("anim/color unknown value : "+a)}});h.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(a){i.Factories[a]=b});return b},{requires:["dom","./fx","./short-hand"]});
KISSY.add("anim/timer",function(h,f,i,c,k,b,g,e){function j(){var a;j.superclass.constructor.apply(this,arguments);h.each(a=this.to,function(b,d){var c=n(d);d!=c&&(a[c]=a[d],delete a[d])})}var n=f._camelCase,a=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;h.extend(j,c,{prepareFx:function(){var b=this.node,c=this._propsData;h.each(c,function(a){a.duration*=1E3;a.delay*=1E3;"string"==typeof a.easing&&(a.easing=k.toFn(a.easing))});h.each(e,function(a,d){var e,m=c[d],g;m&&!m.fx&&(g=m.value,e={},h.each(a,function(a){e[a]=
f.css(b,a)}),f.css(b,d,g),h.each(e,function(a,d){d in c||(c[d]=h.merge(m,{value:f.css(b,d)}));f.css(b,d,a)}),delete c[d])});var d,m,p,j,i,n,r,q;for(d in c)if(m=c[d],m.fx)m.fx.prop=d;else{p=m.value;n={prop:d,anim:this,propData:m};r=g.getFx(n);j=p;i=r.cur();p+="";q="";if(p=p.match(a)){j=parseFloat(p[2]);if((q=p[3])&&"px"!==q&&i){var s=0,t=j;do++t,f.css(b,d,t+q),s=r.cur();while(0==s);i*=t/s;f.css(b,d,i+q)}p[1]&&(j=("-="===p[1]?-1:1)*j+i)}n.from=i;n.to=j;n.unit=q;r.load(n);m.fx=r}},frame:function(){var a,
b=1,d,c,e,f,h=this._propsData;for(a in h)if(f=h[a],c=f.fx,!c.finished&&(e=g.getPos(this,f),0!=e)){c.pos=e;if(c.isBasicFx){if(c.from==c.to){c.finished=c.finished||1==e;continue}d=0;if(f.frame&&(d=f.frame(this,c),!this.isRunning()))return;!1!==d&&c.frame(c.finished||e)}else if(c.finished=c.finished||1==e,c.frame(this,c),!this.isRunning())return;b&=c.finished}(!1===this.fire("step")||b)&&this.stop(b)},doStop:function(a){var c,d,e,f=this._propsData;b.stop(this);if(a)for(c in f)if(e=f[c],(a=e.fx)&&!a.finished)a.pos=
1,a.isBasicFx?(d=0,e.frame&&(d=e.frame(this,a)),!1!==d&&a.frame(1)):a.frame(this,a),a.finished=1},doStart:function(){b.start(this)}});j.Easing=k;return j},{requires:"dom,event,./base,./timer/easing,./timer/manager,./timer/fx,./timer/short-hand,./timer/color".split(",")});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 13:48
*/
KISSY.add("anim/transition",function(c,h,k,n){function o(b){var a="";c.each(b,function(b,f){a&&(a+=",");a+=f+" "+b.duration+"s "+b.easing+" "+b.delay+"s"});return a}function j(b){j.superclass.constructor.apply(this,arguments)}var l=c.Features.getTransitionPrefix(),m=l?l.toLowerCase()+"TransitionEnd":"transitionend",i=c.Features.getTransitionProperty();c.extend(j,n,{doStart:function(){var b=this,a=b.node,d=a.style,f=b._propsData,e=d[i],g={};c.each(f,function(f,d){var e=f.value,c=h.css(a,d);"number"==
typeof e&&(c=parseFloat(c));c==e&&setTimeout(function(){b._onTransitionEnd({originalEvent:{propertyName:d}})},0);g[d]=e});-1!=e.indexOf("none")?e="":e&&(e+=",");d[i]=e+o(f);k.on(a,m,b._onTransitionEnd,b);h.css(a,g)},beforeResume:function(){var b=this._propsData,a=c.merge(b),d=this._runTime/1E3;c.each(a,function(a,e){var c=d;a.delay>=c?a.delay-=c:(c-=a.delay,a.delay=0,a.duration>=c?a.duration-=c:delete b[e])})},_onTransitionEnd:function(b){var b=b.originalEvent,a=1,d=this._propsData;d[b.propertyName]&&
(d[b.propertyName].finished=1,c.each(d,function(b){if(!b.finished)return a=0,!1}),a&&this.stop(!0))},doStop:function(b){var a=this.node,d=a.style,f=this._propsData,e=[],g={};k.detach(a,m,this._onTransitionEnd,this);c.each(f,function(c,d){b||(g[d]=h.css(a,d));e.push(d)});f=c.trim(d[i].replace(RegExp("(^|,)\\s*(?:"+e.join("|")+")\\s+[^,]+","gi"),"$1")).replace(/^,|,,|,$/g,"")||"none";d[i]=f;h.css(a,g)}});return j},{requires:["dom","event","./base"]});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 16 11:03
*/
KISSY.add("dom/base/api",function(b){var a=b.Env.host||{},g=a.document,s=b.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},q={isCustomDomain:function(b){var b=b||a,b=q.get(b),f=b.document.domain,b=b.location.hostname;return f!=b&&f!="["+b+"]"},getEmptyIframeSrc:function(b){b=b||a;b=q.get(b);return s.ie&&q.isCustomDomain(b)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+b.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(g){if(!g)return a;g=q.get(g);if(b.isWindow(g))return g;var f=g;f.nodeType!==l.DOCUMENT_NODE&&(f=g.ownerDocument);return f.defaultView||f.parentWindow},getDocument:function(a){if(!a)return g;a=q.get(a);return b.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var b=q.get(a),a=b.nodeName.toLowerCase();s.ie&&(b=b.scopeName)&&"HTML"!=b&&(a=b.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};b.mix(q,l);return q});
KISSY.add("dom/base/attr",function(b,a,g){function s(a,c){var c=n[c]||c,e=u[c];return e&&e.get?e.get(a,c):a[c]}var l=b.Env.host.document,q=a.NodeType,l=l&&l.documentElement,t=a.nodeName,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,r=/:|^on/,e=/\r/g,d={},m={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},A={tabindex:{get:function(a){var c=
a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):j.test(a.nodeName)||k.test(a.nodeName)&&a.href?0:g}}},n={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},B={get:function(e,c){return a.prop(e,c)?c.toLowerCase():g},set:function(e,c,i){!1===c?
a.removeAttr(e,i):(c=n[i]||i,c in e&&(e[c]=!0),e.setAttribute(i,i.toLowerCase()));return i}},u={},z={},v={select:{get:function(e){var c=e.selectedIndex,i=e.options,h;if(0>c)return null;if("select-one"===""+e.type)return a.val(i[c]);e=[];c=0;for(h=i.length;c<h;++c)i[c].selected&&e.push(a.val(i[c]));return e},set:function(e,c){var i=b.makeArray(c);b.each(e.options,function(c){c.selected=b.inArray(a.val(c),i)});i.length||(e.selectedIndex=-1);return i}}};b.each(["radio","checkbox"],function(e){v[e]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(c,e){return b.isArray(e)?c.checked=b.inArray(a.val(c),e):g}}});A.style={get:function(a){return a.style.cssText}};b.mix(a,{_valHooks:v,_propFix:n,_attrHooks:A,_propHooks:u,_attrNodeHook:z,_attrFix:d,prop:function(e,c,d){var h=a.query(e),y,o;if(b.isPlainObject(c))return b.each(c,function(c,e){a.prop(h,e,c)}),g;c=n[c]||c;o=u[c];if(d!==g)for(e=h.length-1;0<=e;e--)y=h[e],o&&o.set?o.set(y,d,c):y[c]=d;else if(h.length)return s(h[0],c);return g},hasProp:function(e,
c){var d=a.query(e),h,b=d.length,o;for(h=0;h<b;h++)if(o=d[h],s(o,c)!==g)return!0;return!1},removeProp:function(e,c){var c=n[c]||c,d=a.query(e),h,b;for(h=d.length-1;0<=h;h--){b=d[h];try{b[c]=g,delete b[c]}catch(o){}}},attr:function(e,c,i,h){var y=a.query(e),o=y[0];if(b.isPlainObject(c)){var h=i,w;for(w in c)a.attr(y,w,c[w],h);return g}if(h&&m[c])return a[c](e,i);c=c.toLowerCase();if(h&&m[c])return a[c](e,i);c=d[c]||c;e=f.test(c)?B:r.test(c)?z:A[c];if(i===g){if(o&&o.nodeType===q.ELEMENT_NODE){"form"==
t(o)&&(e=z);if(e&&e.get)return e.get(o,c);i=o.getAttribute(c);return""===i&&(c=o.getAttributeNode(c),!c||!c.specified)?g:null===i?g:i}}else for(h=y.length-1;0<=h;h--)if((o=y[h])&&o.nodeType===q.ELEMENT_NODE)"form"==t(o)&&(e=z),e&&e.set?e.set(o,i,c):o.setAttribute(c,""+i);return g},removeAttr:function(e,c){var c=c.toLowerCase(),c=d[c]||c,i=a.query(e),h,b,o;for(o=i.length-1;0<=o;o--)if(b=i[o],b.nodeType==q.ELEMENT_NODE&&(b.removeAttribute(c),f.test(c)&&(h=n[c]||c)in b))b[h]=!1},hasAttr:l&&!l.hasAttribute?
function(e,c){var c=c.toLowerCase(),d=a.query(e),h,b;for(h=0;h<d.length;h++)if(b=d[h],(b=b.getAttributeNode(c))&&b.specified)return!0;return!1}:function(e,c){var d=a.query(e),h,b=d.length;for(h=0;h<b;h++)if(d[h].hasAttribute(c))return!0;return!1},val:function(d,c){var i,h,m,o,w;if(c===g){if(m=a.get(d)){if((i=v[t(m)]||v[m.type])&&"get"in i&&(h=i.get(m,"value"))!==g)return h;h=m.value;return"string"===typeof h?h.replace(e,""):null==h?"":h}return g}h=a.query(d);for(o=h.length-1;0<=o;o--){m=h[o];if(1!==
m.nodeType)break;w=c;null==w?w="":"number"===typeof w?w+="":b.isArray(w)&&(w=b.map(w,function(a){return a==null?"":a+""}));i=v[t(m)]||v[m.type];if(!i||!("set"in i)||i.set(m,w,"value")===g)m.value=w}return g},text:function(e,c){var d,h,b,o;if(c===g)return d=a.get(e),a._getText(d);h=a.query(e);for(b=h.length-1;0<=b;b--)if(d=h[b],o=d.nodeType,o==q.ELEMENT_NODE)a.empty(d),d.appendChild(d.ownerDocument.createTextNode(c));else if(o==q.TEXT_NODE||o==q.CDATA_SECTION_NODE)d.nodeValue=c;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(b,a){function g(a){for(var a=b.trim(a||""),a=a.split(f),g=[],r,e=a.length,d=0;d<e;d++)(r=a[d])&&g.push(r);return g}function s(a){return function(b,g){var e,d,m,f=b.classList,n=q.call(arguments,2);e=0;for(d=g.length;e<d;e++)(m=g[e])&&f[a].apply(f,[m].concat(n))}}function l(b){return function(f,r){var e=g(r),d=q.call(arguments,2);a.query(f).each(function(m){m.nodeType==t.ELEMENT_NODE&&a[b].apply(a,[m,e].concat(d))})}}var q=[].slice,t=a.NodeType,f=/[\.\s]\s*\.?/;b.mix(a,
{_hasClass:function(a,b){var g,e,d,m=a.classList;if(m.length){g=0;for(e=b.length;g<e;g++)if((d=b[g])&&!m.contains(d))return!1;return!0}return!1},_addClass:s("add"),_removeClass:s("remove"),_toggleClass:s("toggle"),hasClass:function(b,f){var r=a.get(b);return r&&r.nodeType==t.ELEMENT_NODE&&a._hasClass(r,g(f))},replaceClass:function(b,g,f){a.removeClass(b,g);a.addClass(b,f)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(b,a,g){function s(e){var c=b.require("event/dom");c&&c.detach(e);a.removeData(e)}function l(a,c){var b=c&&c!=j?c.createElement(e):d;b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function q(a,c,e){var d=c.nodeType;if(d==k.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;e=e.childNodes;for(d=0;c[d];)e[d]&&q(a,c[d],e[d]),d++}else if(d==k.ELEMENT_NODE){c=c.getElementsByTagName("*");e=e.getElementsByTagName("*");for(d=0;c[d];)e[d]&&a(c[d],e[d]),d++}}function t(c,e){var d=
b.require("event/dom"),h,p;if(e.nodeType!=k.ELEMENT_NODE||a.hasData(c)){h=a.data(c);for(p in h)a.data(e,p,h[p]);d&&d.clone(c,e)}}function f(a){var c=null,e,d;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=b.makeArray(a);e=0;for(d=a.length;e<d;e++)c.appendChild(a[e])}return c}var j=b.Env.host.document,k=a.NodeType,r=b.UA.ie,e="div",d=j&&j.createElement(e),m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,A=/<([\w:]+)/,n=/^\s+/,B=/\s+$/,u=
r&&9>r,z=/<|&#?\w+;/,v=j&&"outerHTML"in j.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;b.mix(a,{create:function(c,d,h,i){var p=null;if(!c)return p;if(c.nodeType)return a.clone(c);if("string"!=typeof c)return p;i===g&&(i=!0);i&&(c=b.trim(c));var i=a._creators,x,E,h=h||j,D,F=e;if(z.test(c))if(D=C.exec(c))p=h.createElement(D[1]);else{c=c.replace(m,"<$1></$2>");if((D=A.exec(c))&&(x=D[1]))F=x.toLowerCase();x=(i[F]||l)(c,h);u&&(E=c.match(n))&&x.insertBefore(h.createTextNode(E[0]),x.firstChild);u&&/\S/.test(c)&&
(E=c.match(B))&&x.appendChild(h.createTextNode(E[0]));c=x.childNodes;1===c.length?p=c[0].parentNode.removeChild(c[0]):c.length&&(p=f(c))}else p=h.createTextNode(c);b.isPlainObject(d)&&(p.nodeType==k.ELEMENT_NODE?a.attr(p,d,!0):p.nodeType==k.DOCUMENT_FRAGMENT_NODE&&a.attr(p.childNodes,d,!0));return p},_fixCloneAttributes:function(c,e){"textarea"===a.nodeName(c)&&(e.defaultValue=c.defaultValue,e.value=c.value)},_creators:{div:l},_defaultCreator:l,html:function(c,e,d){var c=a.query(c),b=c[0],p=!1,x,
i;if(!b)return null;if(e===g)return b.nodeType==k.ELEMENT_NODE?b.innerHTML:null;e+="";if(!e.match(/<(?:script|style|link)/i)&&(!u||!e.match(n))&&!h[(e.match(A)||["",""])[1].toLowerCase()])try{for(x=c.length-1;0<=x;x--)i=c[x],i.nodeType==k.ELEMENT_NODE&&(s(i.getElementsByTagName("*")),i.innerHTML=e);p=!0}catch(m){}p||(e=a.create(e,0,b.ownerDocument,0),a.empty(c),a.append(e,c,d));return g},outerHtml:function(c,b,h){var i=a.query(c),p=i.length,c=i[0];if(!c)return null;if(b===g){if(v)return c.outerHTML;
b=(b=c.ownerDocument)&&b!=j?b.createElement(e):d;b.innerHTML="";b.appendChild(a.clone(c,!0));b.appendChild(a.clone(c,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&v)for(h=p-1;0<=h;h--)c=i[h],c.nodeType==k.ELEMENT_NODE&&(s(c),s(c.getElementsByTagName("*")),c.outerHTML=b);else c=a.create(b,0,c.ownerDocument,0),a.insertBefore(c,i,h),a.remove(i);return g},remove:function(c,e){var d,h=a.query(c),p,x,i=b.require("event/dom"),g;for(g=h.length-1;0<=g;g--)d=h[g],!e&&d.nodeType==k.ELEMENT_NODE&&
(p=b.makeArray(d.getElementsByTagName("*")),p.push(d),a.removeData(p),i&&i.detach(p)),(x=d.parentNode)&&x.removeChild(d)},clone:function(c,e,d,b){"object"===typeof e&&(b=e.deepWithDataAndEvent,d=e.withDataAndEvent,e=e.deep);var c=a.get(c),h,i=a._fixCloneAttributes,g;if(!c)return null;g=c.nodeType;h=c.cloneNode(e);if(g==k.ELEMENT_NODE||g==k.DOCUMENT_FRAGMENT_NODE)i&&g==k.ELEMENT_NODE&&i(c,h),e&&i&&q(i,c,h);d&&(t(c,h),e&&b&&q(t,c,h));return h},empty:function(c){var c=a.query(c),e,d;for(d=c.length-1;0<=
d;d--)e=c[d],a.remove(e.childNodes)},_nodeListToFragment:f});a.outerHTML=a.outerHtml;var c=a._creators,i=a.create,h={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},y;for(y in h)(function(a){c[y]=function(c,e){return i("<"+a+">"+c+"</"+a+">",null,e)}})(h[y]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(b,a,g){var s=b.Env.host,l="_ks_data_"+b.now(),q={},t={},f={applet:1,object:1,embed:1},j={hasData:function(a,d){if(a)if(d!==g){if(d in a)return!0}else if(!b.isEmptyObject(a))return!0;return!1}},k={hasData:function(a,d){return a==s?k.hasData(t,d):j.hasData(a[l],d)},data:function(a,d,b){if(a==s)return k.data(t,d,b);var f=a[l];if(b!==g)f=a[l]=a[l]||{},f[d]=b;else return d!==g?f&&f[d]:f=a[l]=a[l]||{}},removeData:function(a,d){if(a==s)return k.removeData(t,d);var f=a[l];
if(d!==g)delete f[d],b.isEmptyObject(f)&&k.removeData(a);else try{delete a[l]}catch(j){a[l]=g}}},r={hasData:function(a,d){var b=a[l];return!b?!1:j.hasData(q[b],d)},data:function(a,d,m){if(f[a.nodeName.toLowerCase()])return g;var j=a[l];if(!j){if(d!==g&&m===g)return g;j=a[l]=b.guid()}a=q[j];if(m!==g)a=q[j]=q[j]||{},a[d]=m;else return d!==g?a&&a[d]:a=q[j]=q[j]||{}},removeData:function(a,d){var f=a[l],j;if(f)if(j=q[f],d!==g)delete j[d],b.isEmptyObject(j)&&r.removeData(a);else{delete q[f];try{delete a[l]}catch(n){a[l]=
g}a.removeAttribute&&a.removeAttribute(l)}}};b.mix(a,{__EXPANDO:l,hasData:function(e,d){for(var b=!1,g=a.query(e),f=0;f<g.length&&!(b=g[f],b=b.nodeType?r.hasData(b,d):k.hasData(b,d));f++);return b},data:function(e,d,f){var e=a.query(e),j=e[0];if(b.isPlainObject(d)){for(var n in d)a.data(e,n,d[n]);return g}if(f===g){if(j)return j.nodeType?r.data(j,d):k.data(j,d)}else for(n=e.length-1;0<=n;n--)j=e[n],j.nodeType?r.data(j,d,f):k.data(j,d,f);return g},removeData:function(e,d){var b=a.query(e),g,f;for(f=
b.length-1;0<=f;f--)g=b[f],g.nodeType?r.removeData(g,d):k.removeData(g,d)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(b,a){function g(a,d){var b=[],l,n,s;for(l=0;a[l];l++)if(n=a[l],s=f(n),n.nodeType==q.DOCUMENT_FRAGMENT_NODE)b.push.apply(b,g(j(n.childNodes),d));else if("script"===s&&(!n.type||r.test(n.type)))n.parentNode&&n.parentNode.removeChild(n),d&&d.push(n);else{if(n.nodeType==q.ELEMENT_NODE&&!t.test(s)){s=[];var u,z,v=n.getElementsByTagName("script");for(z=0;z<v.length;z++)u=v[z],(!u.type||r.test(u.type))&&s.push(u);k.apply(a,[l+1,0].concat(s))}b.push(n)}return b}function s(a){a.src?
b.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function l(e,d,f,j){e=a.query(e);j&&(j=[]);e=g(e,j);a._fixInsertionChecked&&a._fixInsertionChecked(e);var d=a.query(d),k,l,u,z,v=d.length;if((e.length||j&&j.length)&&v){e=a._nodeListToFragment(e);1<v&&(z=a.clone(e,!0),d=b.makeArray(d));for(k=0;k<v;k++)l=d[k],e&&(u=0<k?a.clone(z,!0):e,f(u,l)),j&&j.length&&b.each(j,s)}}var q=a.NodeType,t=/^(?:button|input|object|select|textarea)$/i,f=a.nodeName,j=b.makeArray,k=[].splice,
r=/\/(java|ecma)script/i;b.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,d,b){l(a,d,function(a,d){d.parentNode&&d.parentNode.insertBefore(a,d)},b)},insertAfter:function(a,d,b){l(a,d,function(a,d){d.parentNode&&d.parentNode.insertBefore(a,d.nextSibling)},b)},appendTo:function(a,d,b){l(a,d,function(a,d){d.appendChild(a)},b)},prependTo:function(a,d,b){l(a,d,function(a,d){d.insertBefore(a,d.firstChild)},b)},wrapAll:function(b,d){d=a.clone(a.get(d),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(d,
b[0]);for(var g;(g=d.firstChild)&&1==g.nodeType;)d=g;a.appendTo(b,d)},wrap:function(e,d){e=a.query(e);d=a.get(d);b.each(e,function(b){a.wrapAll(b,d)})},wrapInner:function(e,d){e=a.query(e);d=a.get(d);b.each(e,function(b){var e=b.childNodes;e.length?a.wrapAll(e,d):b.appendChild(d)})},unwrap:function(e){e=a.query(e);b.each(e,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(b,d){var g=a.query(b),d=a.query(d);a.remove(d,!0);a.insertBefore(d,g);a.remove(g)}});b.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,d){a[d]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(b,a,g){function s(a){var b,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[d];b=b[m];a-=k.clientLeft||e.clientLeft||0;b-=k.clientTop||e.clientTop||0;return{left:a,top:b}}function l(b,d){var e={left:0,top:0},g=r(b),c,i=b,d=d||g;do{if(g==d){var h=i;c=s(h);h=r(h);c.left+=a[n](h);c.top+=a[B](h)}else c=s(i);e.left+=c.left;e.top+=c.top}while(g&&g!=d&&(i=g.frameElement)&&(g=g.parent));return e}var q=b.Env.host,t=
b.UA,f=q.document,j=a.NodeType,k=f&&f.documentElement,r=a.getWindow,e=Math.max,d="left",m="top",A=b.isNumber,n="scrollLeft",B="scrollTop";b.mix(a,{offset:function(b,d,e){if(d===g){var b=a.get(b),f;b&&(f=l(b,e));return f}e=a.query(b);for(f=e.length-1;0<=f;f--){var b=e[f],c=d;"static"===a.css(b,"position")&&(b.style.position="relative");var i=l(b),h={},j=void 0,o=void 0;for(o in c)j=parseFloat(a.css(b,o))||0,h[o]=j+c[o]-i[o];a.css(b,h)}return g},scrollIntoView:function(e,f,k,l){var c,i,h,y;if(h=a.get(e)){f&&
(f=a.get(f));f||(f=h.ownerDocument);f.nodeType==j.DOCUMENT_NODE&&(f=r(f));b.isPlainObject(k)&&(l=k.allowHorizontalScroll,y=k.onlyScrollIfNeeded,k=k.alignWithTop);l=l===g?!0:l;i=b.isWindow(f);var e=a.offset(h),o=a.outerHeight(h);c=a.outerWidth(h);var w,n,q,p;i?(i=f,w=a.height(i),n=a.width(i),p={left:a.scrollLeft(i),top:a.scrollTop(i)},i=e[d]-p[d],h=e[m]-p[m],c=e[d]+c-(p[d]+n),e=e[m]+o-(p[m]+w)):(w=a.offset(f),n=f.clientHeight,q=f.clientWidth,p={left:a.scrollLeft(f),top:a.scrollTop(f)},i=e[d]-(w[d]+
(parseFloat(a.css(f,"borderLeftWidth"))||0)),h=e[m]-(w[m]+(parseFloat(a.css(f,"borderTopWidth"))||0)),c=e[d]+c-(w[d]+q+(parseFloat(a.css(f,"borderRightWidth"))||0)),e=e[m]+o-(w[m]+n+(parseFloat(a.css(f,"borderBottomWidth"))||0)));if(y){if(0>h||0<e)!0===k?a.scrollTop(f,p.top+h):!1===k?a.scrollTop(f,p.top+e):0>h?a.scrollTop(f,p.top+h):a.scrollTop(f,p.top+e)}else(k=k===g?!0:!!k)?a.scrollTop(f,p.top+h):a.scrollTop(f,p.top+e);if(l)if(y){if(0>i||0<c)!0===k?a.scrollLeft(f,p.left+i):!1===k?a.scrollLeft(f,
p.left+c):0>i?a.scrollLeft(f,p.left+i):a.scrollLeft(f,p.left+c)}else(k=k===g?!0:!!k)?a.scrollLeft(f,p.left+i):a.scrollLeft(f,p.left+c)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});b.each(["Left","Top"],function(b,e){var d="scroll"+b;a[d]=function(f,c){if(A(f))return arguments.callee(q,f);var f=a.get(f),i,h,k,o;f&&f.nodeType==j.ELEMENT_NODE?c!==g?f[d]=parseFloat(c):i=f[d]:(o=r(f),c!==g?(c=parseFloat(c),h="Left"==b?c:a.scrollLeft(o),k="Top"==b?c:a.scrollTop(o),
o.scrollTo(h,k)):(i=o["page"+(e?"Y":"X")+"Offset"],A(i)||(h=o.document,i=h.documentElement[d],A(i)||(i=h.body[d]))));return i}});b.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=a.get(d);d=a.getDocument(d);return e(d.documentElement["scroll"+b],d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(d){var d=a.get(d),e=r(d),d=e["inner"+b];if(t.mobile&&d)return d;var d="client"+b,e=e.document,f=e.body,c=e.documentElement[d];return"CSS1Compat"===e.compatMode&&c||f&&f[d]||c}});
return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(b,a,g){function s(a,c){return c.toUpperCase()}function l(a){return a.replace(z,"ms-").replace(w,s)}function q(a,c,b){var d={},e;for(e in c)d[e]=a[m][e],a[m][e]=c[e];b.call(a);for(e in c)a[m][e]=d[e]}function t(a,b,d){var e,f,i;if(3===a.nodeType||8===a.nodeType||!(e=a[m]))return g;b=l(b);i=h[b];b=y[b]||b;if(d!==g){null===d||d===C?d=C:!isNaN(Number(d))&&!u[b]&&(d+=c);i&&i.set&&(d=i.set(a,d));if(d!==g){try{e[b]=d}catch(j){}d===C&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||
a.removeAttribute("style");return g}if(!i||!("get"in i&&(f=i.get(a,!1))!==g))f=e[b];return f===g?"":f}function f(a){var c,b=arguments;0!==a.offsetWidth?c=j.apply(g,b):q(a,G,function(){c=j.apply(g,b)});return c}function j(c,d,e){if(b.isWindow(c))return d==n?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return d==n?a.docWidth(c):a.docHeight(c);var f=d===n?["Left","Right"]:["Top","Bottom"],h=d===n?c.offsetWidth:c.offsetHeight;if(0<h)return"border"!==e&&b.each(f,function(b){e||(h-=parseFloat(a.css(c,
"padding"+b))||0);h="margin"===e?h+(parseFloat(a.css(c,e+b))||0):h-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),h;h=a._getComputedStyle(c,d);if(null==h||0>Number(h))h=c.style[d]||0;h=parseFloat(h)||0;e&&b.each(f,function(b){h+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(h+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(h+=parseFloat(a.css(c,e+b))||0)});return h}var k=b.Env.host,r=b.UA,e=a.nodeName,d=k.document,m="style",A=/^margin/,n="width",B="display"+b.now(),u={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},z=/^-ms-/,v=/([A-Z]|^ms)/g,C="",c="px",i=/\d(?!px)[a-z%]+$/i,h={},y={"float":"cssFloat"},o={},w=/-([a-z])/ig;b.mix(a,{_camelCase:l,_CUSTOM_STYLES:h,_cssProps:y,_getComputedStyle:function(c,b){var d="",e,h,f,i,g;h=c.ownerDocument;b=b.replace(v,"-$1").toLowerCase();if(e=h.defaultView.getComputedStyle(c,null))d=e.getPropertyValue(b)||e[b];""===d&&!a.contains(h,c)&&(b=y[b]||b,d=c[m][b]);a._RE_NUM_NO_PX.test(d)&&A.test(b)&&(g=c.style,
h=g.width,f=g.minWidth,i=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=e.width,g.width=h,g.minWidth=f,g.maxWidth=i);return d},style:function(c,d,e){var c=a.query(c),h,f=c[0];if(b.isPlainObject(d)){for(h in d)for(f=c.length-1;0<=f;f--)t(c[f],h,d[h]);return g}if(e===g)return h="",f&&(h=t(f,d,e)),h;for(f=c.length-1;0<=f;f--)t(c[f],d,e);return g},css:function(c,d,e){var c=a.query(c),f=c[0],i;if(b.isPlainObject(d)){for(i in d)for(f=c.length-1;0<=f;f--)t(c[f],i,d[i]);return g}d=l(d);i=h[d];if(e===g){e="";
if(f&&(!i||!("get"in i&&(e=i.get(f,!0))!==g)))e=a._getComputedStyle(f,d);return"undefined"==typeof e?"":e}for(f=c.length-1;0<=f;f--)t(c[f],d,e);return g},show:function(c){var c=a.query(c),b,e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[m].display=a.data(e,B)||C,"none"===a.css(e,"display")){b=e.tagName.toLowerCase();var h=void 0,i=o[b],g=void 0;o[b]||(h=d.body||d.documentElement,g=d.createElement(b),a.prepend(g,h),i=a.css(g,"display"),h.removeChild(g),o[b]=i);b=i;a.data(e,B,b);e[m].display=b}},hide:function(c){var c=
a.query(c),b,d;for(d=c.length-1;0<=d;d--){b=c[d];var e=b[m],f=e.display;"none"!==f&&(f&&a.data(b,B,f),e.display="none")}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],"none"===a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(c,b,d){"string"==typeof c&&(d=b,b=c,c=k);var c=a.getDocument(c),e;if(d&&(d=d.replace("#",C)))e=a.get("#"+d,c);e||(e=a.create("<style>",{id:d},c),a.get("head",c).appendChild(e),e.styleSheet?e.styleSheet.cssText=b:e.appendChild(c.createTextNode(b)))},
unselectable:function(c){var c=a.query(c),d,f,h=0,g,i;for(f=c.length-1;0<=f;f--)if(d=c[f],i=d[m],i.UserSelect="none",r.gecko)i.MozUserSelect="none";else if(r.webkit)i.WebkitUserSelect="none";else if(r.ie||r.opera){i=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];d=i[h++];)b.inArray(e(d),g)||d.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});b.each([n,"height"],function(c){a["inner"+
b.ucfirst(c)]=function(b){return(b=a.get(b))&&f(b,c,"padding")};a["outer"+b.ucfirst(c)]=function(b,d){var e=a.get(b);return e&&f(e,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e};h[c]={get:function(a,b){var d;b&&(d=f(a,c)+"px");return d}}});var G={position:"absolute",visibility:"hidden",display:"block"};b.each(["left","top"],function(c){h[c]={get:function(b,e){var f,h,g;if(e){g=a.css(b,"position");if("static"===g)return"auto";f=a._getComputedStyle(b,c);
if((h="auto"===f)&&"relative"===g)return"0px";if(h||i.test(f)){g={top:0,left:0};if("fixed"==a.css(b,"position"))h=b.getBoundingClientRect();else{for(f=b.offsetParent||(b.ownerDocument||d).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;h=a.offset(b);g=a.offset(f);g.top+=parseFloat(a.css(f,"borderTopWidth"))||0;g.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}h.top-=parseFloat(a.css(b,"marginTop"))||0;h.left-=parseFloat(a.css(b,"marginLeft"))||0;f={top:h.top-g.top,left:h.left-
g.left}[c]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(b,a,g){function s(a){var b=this.length,d;for(d=0;d<b&&!1!==a(this[d],d);d++);}function l(a){return function(){var b=document.getElementById(a);return b?[b]:[]}}function q(a){return function(b){return b.getElementsByClassName(a)}}function t(a){return function(b){return b.getElementsByTagName(a)}}function f(c,d){var h,j;h="string"==typeof c;var k=d!==g?f(d):(j=1)&&[e],m=k.length,r=/^\.([\w-]+)$/,u=/^#([\w-]*)$/,p=/^([\w-])+$/,x=/^[\w-]+#([\w-])+$/,v=/^[\w-]+\.[\w-]+$/;
if(c)if(h)if(c=C(c),j&&"body"==c)h=[e.body];else if(j&&r.test(c)&&"getElementsByClassName"in document)h=k[0].getElementsByClassName(RegExp.$1);else if(j&&v.test(c))h=k[0].querySelectorAll(c);else if(j&&x.test(c))h=(j=e.getElementById(c.replace(/^.+#/,"")))?[j]:[];else if(j&&u.test(c))h=(j=e.getElementById(c.substr(1)))?[j]:[];else if(j&&p.test(c)&&"getElementsByTagName"in document)h=k[0].getElementsByTagName(c);else if(!(j=c.match(/(\+|\=|\~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+\#[\w-]+)/)?
!1:!0)&&"querySelectorAll"in document&&1===m)h=k[0].querySelectorAll(c);else if("getElementsByTagName"in document&&"getElementsByClassName"in document&&j){m=c.split(/\s+/);j=0;for(h=m.length;j<h;j++)m[j]="#"==m[j].charAt(0)?l(m[j].substr(1)):"."==m[j].charAt(0)?q(m[j].substr(1)):t(m[j].substr(0));j=0;for(r=m.length;j<r;j++){u=m[j];p=[];x=0;for(h=k.length;x<h;x++)for(var v=u(k[x]),D=0,F=v.length;D<F;D++)p[p.length++]=v[D];k=p}h=k?k:[]}else{h=[];for(j=0;j<m;j++)"querySelectorAll"in document?h=h.concat(b.makeArray(k[j].querySelectorAll(c))):
z.apply(h,a._selectInternal(c,k[j]));1<h.length&&1<m&&a.unique(h)}else{if(h=c.nodeType||c.setTimeout?[c]:c.getDOMNodes?c.getDOMNodes():A(c)?c:B(c)?n(c):[c],!j){r=h;p=r.length;h=[];for(j=0;j<p;j++)for(u=0;u<m;u++)if(a._contains(k[u],r[j])){h.push(r[j]);break}}}else h=[];h.each=s;return h}function j(a,b){var d=a&&(a.className||k(a,"class"));return d&&-1<(u+d+u).indexOf(u+b+u)}function k(a,b){var d=a&&a.getAttributeNode(b);return d&&d.specified?d.nodeValue:g}function r(a,b){return"*"==b||a.nodeName.toLowerCase()===
b.toLowerCase()}var e=b.Env.host.document,d=e.documentElement,m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector,A=b.isArray,n=b.makeArray,B=a.isDomNodeList,u=" ",z=Array.prototype.push,v=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,C=b.trim;b.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:k,_isTag:r,_hasSingleClass:j,
_matchesInternal:function(a,b){for(var d=[],e=0,f,g=b.length;e<g;e++)f=b[e],m.call(f,a)&&d.push(f);return d},_selectInternal:function(a,b){return n(b.querySelectorAll(a))},query:f,get:function(a,b){return f(a,b)[0]||null},unique:function(){function b(c,e){return c==e?(d=!0,0):a._compareNodeOrder(c,e)}var d,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){d=e;a.sort(b);if(d)for(var f=1,g=a.length;f<g;)a[f]===a[f-1]?(a.splice(f,1),--g):f++;return a}}(),filter:function(c,d,e){var c=f(c,
e),g,m,l,n,e=[];if("string"==typeof d&&(d=C(d))&&(l=v.exec(d)))g=l[1],m=l[2],n=l[3],g?g&&!m&&!n&&(d=function(a){return k(a,"id")==g}):d=function(a){var b=!0,c=!0;m&&(b=r(a,m));n&&(c=j(a,n));return c&&b};return e=b.isFunction(d)?b.filter(c,d):a._matchesInternal(d,c)},test:function(b,d,e){b=f(b,e);return b.length&&a.filter(b,d,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(b,a,g){function s(f,j,k,r,e,d,m){if(!(f=a.get(f)))return null;if(0===j)return f;d||(f=f[k]);if(!f)return null;e=e&&a.get(e)||null;j===g&&(j=1);var d=[],q=b.isArray(j),n,s;b.isNumber(j)&&(n=0,s=j,j=function(){return++n===s});for(;f&&f!=e;){if((f.nodeType==t.ELEMENT_NODE||f.nodeType==t.TEXT_NODE&&m)&&l(f,j)&&(!r||r(f)))if(d.push(f),!q)break;f=f[k]}return q?d:d[0]||null}function l(f,g){if(!g)return!0;if(b.isArray(g)){var k,l=g.length;if(!l)return!0;for(k=0;k<l;k++)if(a.test(f,
g[k]))return!0}else if(a.test(f,g))return!0;return!1}function q(f,g,k,l){var e=[],d,m;if((d=f=a.get(f))&&k)d=f.parentNode;if(d){k=b.makeArray(d.childNodes);for(d=0;d<k.length;d++)m=k[d],(l||m.nodeType==t.ELEMENT_NODE)&&m!=f&&e.push(m);g&&(e=a.filter(e,g))}return e}var t=a.NodeType;b.mix(a,{_contains:function(a,b){return!!(a.compareDocumentPosition(b)&16)},closest:function(a,b,g,l){return s(a,b,"parentNode",function(a){return a.nodeType!=t.DOCUMENT_FRAGMENT_NODE},g,!0,l)},parent:function(a,b,k){return s(a,
b,"parentNode",function(a){return a.nodeType!=t.DOCUMENT_FRAGMENT_NODE},k,g)},first:function(b,j,k){b=a.get(b);return s(b&&b.firstChild,j,"nextSibling",g,g,!0,k)},last:function(b,j,k){b=a.get(b);return s(b&&b.lastChild,j,"previousSibling",g,g,!0,k)},next:function(a,b,k){return s(a,b,"nextSibling",g,g,g,k)},prev:function(a,b,k){return s(a,b,"previousSibling",g,g,g,k)},siblings:function(a,b,g){return q(a,b,!0,g)},children:function(a,b){return q(a,b,g)},contents:function(a,b){return q(a,b,g,1)},contains:function(b,
g){b=a.get(b);g=a.get(g);return b&&g?a._contains(b,g):!1},index:function(f,g){var k=a.query(f),l,e=0;l=k[0];if(!g){k=l&&l.parentNode;if(!k)return-1;for(;l=l.previousSibling;)l.nodeType==t.ELEMENT_NODE&&e++;return e}e=a.query(g);return"string"===typeof g?b.indexOf(l,e):b.indexOf(e[0],k)},equals:function(b,g){b=a.query(b);g=a.query(g);if(b.length!=g.length)return!1;for(var k=b.length;0<=k;k--)if(b[k]!=g[k])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(b,a){b.mix(b,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});KISSY.use("dom/base",{sync:!0});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 16 11:03
*/
KISSY.add("node/base",function(b,h,i,j){function e(a){d.apply(this,a);return this}var g=Array.prototype,k=g.slice,f=h.NodeType,d=g.push;e.prototype={constructor:e,isNodeList:!0,length:0,item:function(a){return b.isNumber(a)?a>=this.length?null:new e(this[a]):new e(a)},add:function(a,c,f){b.isNumber(c)&&(f=c,c=j);a=e.all(a,c).getDOMNodes();c=new e(this);f===j?d.apply(c,a):(f=[f,0],f.push.apply(f,a),g.splice.apply(c,f));return c},slice:function(a,c){return new e(k.apply(this,arguments))},getDOMNodes:function(){return k.call(this)},
each:function(a,c){var d=this;b.each(d,function(f,b){f=new e(f);return a.call(c||f,f,b,d)});return d},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},filter:function(a){return new e(h.filter(this,a))},all:function(a){a=0<this.length?e.all(a,this):new e;a.__parent=this;return a},one:function(a){a=this.all(a);if(a=a.length?a.slice(0,1):null)a.__parent=this;return a}};b.mix(e,{all:function(a,c){return"string"==typeof a&&(a=b.trim(a))&&3<=a.length&&b.startsWith(a,"<")&&
b.endsWith(a,">")?(c&&(c.getDOMNode&&(c=c[0]),c=c.ownerDocument||c),new e(a,j,c)):new e(h.query(a,c))},one:function(a,c){var d=e.all(a,c);return d.length?d.slice(0,1):null}});e.NodeType=f;e.KeyCode=i.KeyCode;e.Gesture=i.Gesture;e.REPLACE_HISTORY=i.REPLACE_HISTORY;return e},{requires:["dom","event/dom"]});
KISSY.add("node/attach",function(b,h,i,j,e){function g(d,a,c){c.unshift(a);d=h[d].apply(h,c);return d===e?a:d}var k=j.prototype,f=b.makeArray;j.KeyCode=i.KeyCode;b.each("nodeName,isCustomDomain,getEmptyIframeSrc,equals,contains,index,scrollTop,scrollLeft,height,width,innerHeight,innerWidth,outerHeight,outerWidth,addStyleSheet,appendTo,prependTo,insertBefore,before,after,insertAfter,test,hasClass,addClass,removeClass,replaceClass,toggleClass,removeAttr,hasAttr,hasProp,scrollIntoView,remove,empty,removeData,hasData,unselectable,wrap,wrapAll,replaceWith,wrapInner,unwrap".split(","),function(d){k[d]=
function(){var a=f(arguments);return g(d,this,a)}});b.each("getWindow,getDocument,filter,first,last,parent,closest,next,prev,clone,siblings,contents,children".split(","),function(d){k[d]=function(){var a=f(arguments);a.unshift(this);a=h[d].apply(h,a);return a===e?this:a===null?null:new j(a)}});b.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,outerHTML:0,outerHtml:0,data:1},function(d,a){k[a]=function(){var c;c=f(arguments);c[d]===e&&!b.isObject(c[0])?(c.unshift(this),c=h[a].apply(h,
c)):c=g(a,this,c);return c}});b.each("on,detach,fire,fireHandler,delegate,undelegate".split(","),function(d){k[d]=function(){var a=f(arguments);a.unshift(this);i[d].apply(i,a);return this}})},{requires:["dom","event/dom","./base"]});
KISSY.add("node/override",function(b,h,i){var j=i.prototype;b.each(["append","prepend","before","after"],function(b){j[b]=function(g){"string"==typeof g&&(g=h.create(g));if(g)h[b](g,this);return this}});b.each(["wrap","wrapAll","replaceWith","wrapInner"],function(b){var g=j[b];j[b]=function(b){"string"==typeof b&&(b=i.all(b,this[0].ownerDocument));return g.call(this,b)}})},{requires:["dom","./base"]});
KISSY.add("node/anim",function(b,h,i,j,e){function g(b,d,a){for(var c=[],e={},a=a||0;a<d;a++)c.push.apply(c,k[a]);for(a=0;a<c.length;a++)e[c[a]]=b;return e}var k=[["height","margin-top","margin-bottom","padding-top","padding-bottom"],["width","margin-left","margin-right","padding-left","padding-right"],["opacity"]];b.augment(j,{animate:function(f){var d=b.makeArray(arguments);b.each(this,function(a){var c=b.clone(d),f=c[0];f.to?(f.node=a,i(f).run()):i.apply(e,[a].concat(c)).run()});return this},stop:function(f,
d,a){b.each(this,function(c){i.stop(c,f,d,a)});return this},pause:function(f,d){b.each(this,function(a){i.pause(a,d)});return this},resume:function(f,d){b.each(this,function(a){i.resume(a,d)});return this},isRunning:function(){for(var b=0;b<this.length;b++)if(i.isRunning(this[b]))return!0;return!1},isPaused:function(){for(var b=0;b<this.length;b++)if(i.isPaused(this[b]))return!0;return!1}});b.each({show:g("show",3),hide:g("hide",3),toggle:g("toggle",3),fadeIn:g("show",3,2),fadeOut:g("hide",3,2),fadeToggle:g("toggle",
3,2),slideDown:g("show",1),slideUp:g("hide",1),slideToggle:g("toggle",1)},function(f,d){j.prototype[d]=function(a,c,e){if(h[d]&&!a)h[d](this);else b.each(this,function(b){i(b,f,a,e,c).run()});return this}})},{requires:["dom","anim","./base"]});KISSY.add("node",function(b,h){b.mix(b,{Node:h,NodeList:h,one:h.one,all:h.all});return h},{requires:["node/base","node/attach","node/override","node/anim"]});KISSY.use("node",{sync:!0});
/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 13:48
*/
KISSY.add("base/attribute",function(i,p,f){function k(a,b){return"string"==typeof b?a[b]:b}function n(a,b,c,d,e,g,f,h){f=f||c;return a.fire(b+i.ucfirst(c)+"Change",i.mix({attrName:f,subAttrName:g,prevVal:d,newVal:e},h))}function j(a,b,c){var d=a[b];!c&&!d&&(a[b]=d={});return d||{}}function h(a){return j(a,"__attrs")}function l(a){return j(a,"__attrVals")}function s(a,b){for(var c=0,d=b.length;a!=f&&c<d;c++)a=a[b[c]];return a}function t(a){var b;-1!==a.indexOf(".")&&(b=a.split("."),a=b.shift());return{path:b,
name:a}}function u(a,b,c){var d=c;if(b){var a=d=a===f?{}:i.clone(a),e=b.length-1;if(0<=e){for(var g=0;g<e;g++)a=a[b[g]];a!=f&&(a[b[g]]=c)}}return d}function v(a,b,c,d,e){var g,h,k;g=t(b);var n=b,b=g.name;g=g.path;k=a.get(b);var o=b,l=j(a,"__defaultBeforeFns");l[o]||(l[o]=1,o="before"+i.ucfirst(o)+"Change",a.publish(o,{defaultFn:w}));g&&(h=s(k,g));if(!d.force&&(!g&&k===c||g&&h===c))return f;c=u(k,g,c);c=i.mix({attrName:b,subAttrName:n,prevVal:k,newVal:c,_opts:d,_attrs:e,target:a},d.data);if(d.silent){if(m===
w.call(a,c))return m}else if(m===a.fire("before"+i.ucfirst(b)+"Change",c))return m;return a}function w(a){if(a.target!==this)return f;var b=a.newVal,c=a.prevVal,d=a.attrName,e=a.subAttrName,g=a._attrs,a=a._opts,b=this.setInternal(d,b);if(b===m)return b;a.silent||(b=l(this)[d],n(this,"after",d,c,b,e,null,a.data),g?g.push({prevVal:c,newVal:b,attrName:d,subAttrName:e}):n(this,"","*",[c],[b],[e],[d],a.data));return f}function q(){}function r(a,b){var c=h(a),d=j(c,b,1),e=d.valueFn;if(e&&(e=k(a,e)))e=e.call(a),
e!==f&&(d.value=e),delete d.valueFn,c[b]=d;return d.value}function x(a,b,c,d){var e,g;e=t(b);b=e.name;if(e=e.path)g=a.get(b),c=u(g,e,c);if((e=j(h(a),b).validator)&&(e=k(a,e)))if(a=e.call(a,c,b,d),a!==f&&!0!==a)return a;return f}q.INVALID={};var y=q.INVALID,m=!1;i.augment(q,p.Target,{getAttrs:function(){return h(this)},getAttrVals:function(){var a={},b,c=h(this);for(b in c)a[b]=this.get(b);return a},addAttr:function(a,b,c){var d=h(this),e,b=i.clone(b);(e=d[a])?i.mix(e,b,c):d[a]=b;return this},addAttrs:function(a,
b){var c=this;i.each(a,function(a,b){c.addAttr(b,a)});b&&c.set(b);return c},hasAttr:function(a){return h(this).hasOwnProperty(a)},removeAttr:function(a){this.hasAttr(a)&&(delete h(this)[a],delete l(this)[a]);return this},set:function(a,b,c){if(i.isPlainObject(a)){var c=b||{},b=Object(a),d=[],e,g=[];for(a in b)(e=x(this,a,b[a],b))!==f&&g.push(e);if(g.length)return c.error&&c.error(g),m;for(a in b)v(this,a,b[a],c,d);var h=[],k=[],j=[],l=[];i.each(d,function(a){k.push(a.prevVal);j.push(a.newVal);h.push(a.attrName);
l.push(a.subAttrName)});h.length&&n(this,"","*",k,j,l,h,c.data);return this}c=c||{};e=x(this,a,b);return e!==f?(c.error&&c.error(e),m):v(this,a,b,c)},setInternal:function(a,b){var c=f,d=j(h(this),a).setter;if(d&&(d=k(this,d)))c=d.call(this,b,a);if(c===y)return m;c!==f&&(b=c);l(this)[a]=b;return f},get:function(a){var b,c=l(this),d,e;-1!==a.indexOf(".")&&(b=a.split("."),a=b.shift());d=j(h(this),a,1).getter;e=a in c?c[a]:r(this,a);if(d&&(d=k(this,d)))e=d.call(this,e,a);!(a in c)&&e!==f&&(c[a]=e);b&&
(e=s(e,b));return e},reset:function(a,b){if("string"==typeof a)return this.hasAttr(a)?this.set(a,r(this,a),b):this;var b=a,c=h(this),d={};for(a in c)d[a]=r(this,a);this.set(d,b);return this}});return q},{requires:["event/custom"]});
KISSY.add("base",function(i,p){function f(f){var i=this.constructor;for(this.userConfig=f;i;){var j=i.ATTRS;if(j){var h=void 0;for(h in j)this.addAttr(h,j[h],!1)}i=i.superclass?i.superclass.constructor:null}if(f)for(var l in f)this.setInternal(l,f[l])}i.augment(f,p);f.Attribute=p;return i.Base=f},{requires:["base/attribute","event/custom"]});
