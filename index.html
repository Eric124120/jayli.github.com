<!DOCTYPE HTML>
<html>
  <head>
    <title>Jayli: the official website</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8 "/>
    <style>
		/* reset */
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, font, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
dl, dt, dd, ul, li,
form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td {
	margin: 0;
	padding: 0;
	border: 0;
	outline: 0;
	font-weight: inherit;
	font-style: normal;
	font-size: 100%;
	font-family: inherit;
	vertical-align: baseline;
	background-color:black;
	color:white;
}
:focus {
	outline: 0;
}

ul {
	list-style: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
caption, th, td {
	text-align: left;
	font-weight: normal;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: "";
}
blockquote, q {
	quotes: "" "";
}
      body {
	  line-height: 1;
	color: black;
	background: white;
        font-family: Courier New, Helvetica Neue, Arial, sans-serif;
        margin-left: 15px;
      }
      h1 { font-size: 120px; }
      p { padding-top: 20px; font-size: 30px; }
	  .com {color:orange;}
	  .pro {color:red}
	  span {_overflow:hidden;}

      .row > :nth-child(6n+1) a:hover {
        color: #FFFF00;
      }

      .row > :nth-child(6n+2) a:hover {
        color: #FF0000;
      }

      .row > :nth-child(6n+3) a:hover {
        color: #00FF00;
      }

      .row > :nth-child(6n+4) a:hover {
        color: #FF00FF;
      }

      .row > :nth-child(6n+5) a:hover {
        color: #0000FF;
      }

      .row > :nth-child(6n+6) a:hover {
        color: #FF8000;
      }
    </style>
	<script src="http://a.tbcdn.cn/s/yui/3.2.0/build/yui/yui-min.js"></script>
  </head>

  <body>

    <h1>Jayli</h1>


<div class="row">
<p>FE of <a href="http://ued.taobao.com" class="com">TAOBAO.COM</a>.</p>
<p><a href="http://www.uedmagazine.com">http://www.uedmagazine.com</a></p>
<p><a href="http://www.flickr.com/lijing00333">http://www.flickr.com/lijing00333</a></p>
<p><a href="http://github.com/jayli">http://github.com/jayli</a></p>
<p><a href="/projects.html" class="pro">projects</a> |
<a href="lijing00333@163.com">lijing00333@163.com</a></p>
</div>
<script>
<!--
YUI({
	combine:true,
	comboBase:'http://a.tbcdn.cn/??',
	base:'http://a.tbcdn.cn/s/yui/3.2.0/build/',
	root:'s/yui/3.2.0/build/',
	filter:{
		'searchExp': "&", 
		'replaceStr': ","
	}
}).use('node','transition',function(Y){

	//随机得到色值
	var randomColor = function(){
		var ToHex = function(n){
			var hexch = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'];
			var h, l;
			n = Math.round(n);
			l = n % 16;
			h = Math.floor((n / 16)) % 16;
			return hexch[h]+hexch[l];
		};
		r=Math.floor(Math.random()*256);
		g=Math.floor(Math.random()*256);
		b=Math.floor(Math.random()*256);
		return '#'+ToHex(r)+ToHex(g)+ToHex(b);
	};
	
	//火花
	var Spark = function(opt){
		//Y.log(opt);
		var o = opt || {},
			ox = o.ox,
			oy = o.oy,
			dx = o.dx,
			dy = o.dy,
			duration = o.duration || 1,
			ease = o.ease || (Y.UA.webkit > 0 ?'ease-out':'ease-in'),
			color = randomColor(),
			w = opt.w || 5,
			w = Math.floor(Math.random()*w + 1);
			el = Y.Node.create('<span style="background:'+color+';height:'+w+'px;width:'+w+'px;position:absolute;top:'+oy+'px;left:'+ox+'px"></span>');
		Y.one('body').append(el);
		
		el.transition({
			duration: duration, 
			easing: ease,
			left: Math.floor(dx)+'px',
			top: Math.floor(dy)+'px',
			opacity: 0
		},function(){
			this.remove();
		});
		
	};
	
	//随机生成圆中的一个点
	var RandomPoint = function(x,y,r){
		var r = Math.random() * r,//随机半径
			e = Math.random() * (Math.PI * 2),//随机角度
			a = r * Math.cos(e),
			b = r * Math.sin(e);
		x += a;
		y += b;
		return {
			x:x,
			y:y
		};
	};
	
	//爆炸
	//x,y,n:火花个数，r ：爆炸半径，w：火花最大尺寸
	var explode = function(x,y,n,r,w){
		for(var i = 0;i<n;i++){
			var d = RandomPoint(x,y,r);
			//Y.log(d);
			new Spark({
				ox:Math.floor(x),
				oy:Math.floor(y),
				dx:Math.floor(d.x),
				dy:Math.floor(d.y),
				w:w
			});
		}
	
	};
	
	//
	Y.one('document').on('click',function(e){
		if(e.target.get('tagName').toLowerCase() == 'a')return;
		e.halt();
		var x = e.pageX,
			y = e.pageY,
			H = Y.one('body').get('viewportRegion').height + Y.one('body').get('viewportRegion').top - 5,
			h = H - y,
			v = 500,//速度
			d = h / v;
		var arrow = Y.Node.create('<span style="width:2px;height:5px;background:'+randomColor()+';position:absolute;top:'+H+'px;left:'+x+'px;"></span>');
		Y.one('body').append(arrow);
		arrow.on('transition:propertyEnd',function(e){
			explode(x,y,20,300,10);
			arrow.remove();
		});
		arrow.transition({
			duration: d,
			left: x+'px',
			top: y+'px'
		});
		//TODO 这里的回调在webkit下不执行，不知为何
	});

});

/**
 LOG
  - transition中的尺寸值必须为'10px'形式，不能为数字
  - duration的值和Y.Anim的duration不太一致，动画速度明显要慢很多
  - webkit中的ease-in相当于其他浏览器中的ease-out
  - webkit中的transition的callback有时不触发，貌似是transition:end事件未触发，还未找到规律
*/
//-->
</script>
</body>

</html>
