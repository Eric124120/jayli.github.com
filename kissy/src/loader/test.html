<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Ajax Test</title>
</head>
<body>
<script src="../test/test.js"></script>
<script>
    KISSY.Test.Config.times = 1;
</script>

<h2>Test Data</h2>

<script src="../kissy/kissy.js"></script>
<script src="../kissy/lang.js"></script>

<script src="loader.js"></script>

<!-- Test Cases -->
<script>

var S = KISSY;

var test_log = function(test,log){
	test.extraMsg = log;
};

//loader
var test_loader= function(test){

	//逻辑片段1
	var loader = new S.Loader({
		modules:{
			jquery:{
				fullpath:'http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js',
			},
			switchable:{
				fullpath:'http://ilikejquery.com/switchable/js/jquery.switchable%5Ball%5D.min.js',
				requires:['jquery','skin']
			},
			skin:{
				fullpath:'http://ilikejquery.com/switchable/css/demo.css',
			},
			sandbox:{
				fullpath:'http://tbexample.googlecode.com/svn/trunk/sandbox/sandbox-seed.js'
			}
		}
	}).requires('switchable','sandbox').onReady(function(S){
		
		test_log(test,'Loader Ready...');
		
	});


	//逻辑片段2
	loader.addmojo({
		'yui-oop':{
			fullpath:'http://a.tbcdn.cn/yui/3.0.0/build/oop/oop.js'
		}
	}).requires('yui-oop').onReady(function(S){
		
		
	});



	//逻辑片段3,定义好模块立即载入
	loader.addmojo({
		'yui-oop':{
			fullpath:'http://a.tbcdn.cn/yui/3.0.0/build/oop/oop.js',
			auto:true
		}
	}).onReady(function(S){
		
		
	});


	//逻辑片段4,定义好模块,载入所有
	loader.addmojo({
		'yui':{
			fullpath:'http://a.tbcdn.cn/yui/3.0.0/build/yui/yui.js',
		},
		'cubee':{
			fullpath:'http://a.tbcdn.cn/apps/lottery/common/js/cubee/base/cubee.combo.js'
		}
	}).require('*').onReady(function(S){
		
		
	});
};

</script>

</body>
</html>
